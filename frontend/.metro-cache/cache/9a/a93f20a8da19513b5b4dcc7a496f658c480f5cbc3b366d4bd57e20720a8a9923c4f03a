{"dependencies":[{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}},{"name":"expo-task-manager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":49,"index":92}}],"key":"bYMruywqSxptqIFJf3NLT25O6Io=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":69,"index":162}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":163},"end":{"line":4,"column":26,"index":189}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"GeofencingService\", {\n    enumerable: true,\n    get: function () {\n      return GeofencingService;\n    }\n  });\n  var _expoLocation = require(_dependencyMap[0], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  var _expoTaskManager = require(_dependencyMap[1], \"expo-task-manager\");\n  var TaskManager = _interopNamespace(_expoTaskManager);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const GEOFENCE_TASK = 'BASKETBALL_COURT_GEOFENCE';\n  const LOCATION_TRACKING_TASK = 'BACKGROUND_LOCATION_TRACKING';\n  const GEOFENCE_RADIUS = 75; // meters - about 246 feet, good for basketball court detection\n  const CHECK_INTERVAL = 30000; // Check every 30 seconds\n\n  // Calculate distance between two coordinates using Haversine formula\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371e3; // Earth's radius in meters\n    const Ï†1 = lat1 * Math.PI / 180;\n    const Ï†2 = lat2 * Math.PI / 180;\n    const Î”Ï† = (lat2 - lat1) * Math.PI / 180;\n    const Î”Î» = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(Î”Ï† / 2) * Math.sin(Î”Ï† / 2) + Math.cos(Ï†1) * Math.cos(Ï†2) * Math.sin(Î”Î» / 2) * Math.sin(Î”Î» / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // Distance in meters\n  }\n\n  // Get saved geofence state\n  async function getGeofenceState() {\n    try {\n      const state = await AsyncStorage.default.getItem('geofence_state');\n      if (state) {\n        return JSON.parse(state);\n      }\n    } catch (error) {\n      console.error('Error reading geofence state:', error);\n    }\n    return {\n      currentCourtId: null,\n      lastCheckTime: 0\n    };\n  }\n\n  // Save geofence state\n  async function saveGeofenceState(state) {\n    try {\n      await AsyncStorage.default.setItem('geofence_state', JSON.stringify(state));\n    } catch (error) {\n      console.error('Error saving geofence state:', error);\n    }\n  }\n\n  // Check user into a court\n  async function checkInToCourt(courtId) {\n    try {\n      const token = await AsyncStorage.default.getItem('auth_token');\n      const apiUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n      if (!token) {\n        console.log('No auth token found, skipping auto check-in');\n        return false;\n      }\n      await axios.default.post(`${apiUrl}/api/courts/${courtId}/checkin`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(`âœ… Auto checked-in to court ${courtId}`);\n      return true;\n    } catch (error) {\n      console.error('Error auto checking-in:', error);\n      return false;\n    }\n  }\n\n  // Check user out of a court\n  async function checkOutOfCourt(courtId) {\n    try {\n      const token = await AsyncStorage.default.getItem('auth_token');\n      const apiUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n      if (!token) {\n        console.log('No auth token found, skipping auto check-out');\n        return false;\n      }\n      await axios.default.post(`${apiUrl}/api/courts/${courtId}/checkout`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(`âœ… Auto checked-out of court ${courtId}`);\n      return true;\n    } catch (error) {\n      console.error('Error auto checking-out:', error);\n      return false;\n    }\n  }\n\n  // Fetch all courts from backend\n  async function fetchCourts() {\n    try {\n      const apiUrl = process.env.EXPO_PUBLIC_BACKEND_URL;\n      const response = await axios.default.get(`${apiUrl}/api/courts`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching courts:', error);\n      return [];\n    }\n  }\n\n  // Process location update and handle geofencing logic\n  async function processLocationUpdate(location) {\n    const {\n      latitude,\n      longitude\n    } = location.coords;\n    const state = await getGeofenceState();\n\n    // Throttle checks - don't check more than once every 30 seconds\n    const now = Date.now();\n    if (now - state.lastCheckTime < CHECK_INTERVAL) {\n      return;\n    }\n\n    // Fetch all courts\n    const courts = await fetchCourts();\n    if (courts.length === 0) {\n      return;\n    }\n\n    // Find nearest court within geofence radius\n    let nearestCourt = null;\n    let minDistance = Infinity;\n    for (const court of courts) {\n      const distance = calculateDistance(latitude, longitude, court.latitude, court.longitude);\n      if (distance < GEOFENCE_RADIUS && distance < minDistance) {\n        nearestCourt = court;\n        minDistance = distance;\n      }\n    }\n\n    // Handle geofence transitions\n    if (nearestCourt) {\n      // User is within a geofence\n      if (state.currentCourtId !== nearestCourt.id) {\n        // Entering a new court geofence\n        if (state.currentCourtId) {\n          // Check out of previous court first\n          await checkOutOfCourt(state.currentCourtId);\n        }\n\n        // Check into new court\n        const success = await checkInToCourt(nearestCourt.id);\n        if (success) {\n          await saveGeofenceState({\n            currentCourtId: nearestCourt.id,\n            lastCheckTime: now\n          });\n          console.log(`ðŸ€ Entered geofence of ${nearestCourt.name}`);\n        }\n      }\n    } else {\n      // User is not within any geofence\n      if (state.currentCourtId) {\n        // Exiting current court geofence\n        await checkOutOfCourt(state.currentCourtId);\n        await saveGeofenceState({\n          currentCourtId: null,\n          lastCheckTime: now\n        });\n        console.log('ðŸš¶ Exited all court geofences');\n      }\n    }\n\n    // Update last check time\n    state.lastCheckTime = now;\n    await saveGeofenceState(state);\n  }\n\n  // Define the background location tracking task\n  TaskManager.defineTask(LOCATION_TRACKING_TASK, async ({\n    data,\n    error\n  }) => {\n    if (error) {\n      console.error('Background location task error:', error);\n      return;\n    }\n    if (data) {\n      const {\n        locations\n      } = data;\n      if (locations && locations.length > 0) {\n        const location = locations[0];\n        await processLocationUpdate(location);\n      }\n    }\n  });\n  class GeofencingService {\n    // Start background location tracking with geofencing\n    static async startGeofencing() {\n      try {\n        // Check if task is already registered\n        const isRegistered = await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n        if (isRegistered) {\n          console.log('Geofencing already running');\n          return true;\n        }\n\n        // Request permissions\n        const {\n          status: foregroundStatus\n        } = await Location.requestForegroundPermissionsAsync();\n        if (foregroundStatus !== 'granted') {\n          console.error('Foreground location permission not granted');\n          return false;\n        }\n        const {\n          status: backgroundStatus\n        } = await Location.requestBackgroundPermissionsAsync();\n        if (backgroundStatus !== 'granted') {\n          console.error('Background location permission not granted');\n          return false;\n        }\n\n        // Start background location updates\n        await Location.startLocationUpdatesAsync(LOCATION_TRACKING_TASK, {\n          accuracy: Location.Accuracy.Balanced,\n          distanceInterval: 25,\n          // Update every 25 meters\n          timeInterval: 30000,\n          // Or every 30 seconds\n          foregroundService: {\n            notificationTitle: 'Ball House',\n            notificationBody: 'Tracking your location for automatic court check-ins',\n            notificationColor: '#FF6B35'\n          },\n          pausesUpdatesAutomatically: false,\n          showsBackgroundLocationIndicator: true\n        });\n        console.log('âœ… Geofencing started successfully');\n        return true;\n      } catch (error) {\n        console.error('Error starting geofencing:', error);\n        return false;\n      }\n    }\n\n    // Stop background location tracking\n    static async stopGeofencing() {\n      try {\n        const isRegistered = await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n        if (isRegistered) {\n          await Location.stopLocationUpdatesAsync(LOCATION_TRACKING_TASK);\n          console.log('âœ… Geofencing stopped');\n        }\n      } catch (error) {\n        console.error('Error stopping geofencing:', error);\n      }\n    }\n\n    // Check if geofencing is currently running\n    static async isGeofencingActive() {\n      try {\n        return await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n      } catch (error) {\n        console.error('Error checking geofencing status:', error);\n        return false;\n      }\n    }\n\n    // Get current geofence state\n    static async getCurrentState() {\n      return await getGeofenceState();\n    }\n\n    // Clear geofence state (useful for logout)\n    static async clearState() {\n      await saveGeofenceState({\n        currentCourtId: null,\n        lastCheckTime: 0\n      });\n    }\n\n    // Check permissions status\n    static async checkPermissions() {\n      const foreground = await Location.getForegroundPermissionsAsync();\n      const background = await Location.getBackgroundPermissionsAsync();\n      return {\n        foreground: foreground.status === 'granted',\n        background: background.status === 'granted'\n      };\n    }\n  }\n});","lineCount":323,"map":[[27,2,217,0,"Object"],[27,8,217,0],[27,9,217,0,"defineProperty"],[27,23,217,0],[27,24,217,0,"exports"],[27,31,217,0],[28,4,217,0,"enumerable"],[28,14,217,0],[29,4,217,0,"get"],[29,7,217,0],[29,18,217,0,"get"],[29,19,217,0],[30,6,217,0],[30,13,217,0,"GeofencingService"],[30,30,217,0],[31,4,217,0],[32,2,217,0],[33,2,1,0],[33,6,1,0,"_expoLocation"],[33,19,1,0],[33,22,1,0,"require"],[33,29,1,0],[33,30,1,0,"_dependencyMap"],[33,44,1,0],[34,2,1,0],[34,6,1,0,"Location"],[34,14,1,0],[34,17,1,0,"_interopNamespace"],[34,34,1,0],[34,35,1,0,"_expoLocation"],[34,48,1,0],[35,2,2,0],[35,6,2,0,"_expoTaskManager"],[35,22,2,0],[35,25,2,0,"require"],[35,32,2,0],[35,33,2,0,"_dependencyMap"],[35,47,2,0],[36,2,2,0],[36,6,2,0,"TaskManager"],[36,17,2,0],[36,20,2,0,"_interopNamespace"],[36,37,2,0],[36,38,2,0,"_expoTaskManager"],[36,54,2,0],[37,2,3,0],[37,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,3,0],[37,45,3,0,"require"],[37,52,3,0],[37,53,3,0,"_dependencyMap"],[37,67,3,0],[38,2,3,0],[38,6,3,0,"AsyncStorage"],[38,18,3,0],[38,21,3,0,"_interopDefault"],[38,36,3,0],[38,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,3,0],[39,2,4,0],[39,6,4,0,"_axios"],[39,12,4,0],[39,15,4,0,"require"],[39,22,4,0],[39,23,4,0,"_dependencyMap"],[39,37,4,0],[40,2,4,0],[40,6,4,0,"axios"],[40,11,4,0],[40,14,4,0,"_interopDefault"],[40,29,4,0],[40,30,4,0,"_axios"],[40,36,4,0],[41,2,6,0],[41,8,6,6,"GEOFENCE_TASK"],[41,21,6,19],[41,24,6,22],[41,51,6,49],[42,2,7,0],[42,8,7,6,"LOCATION_TRACKING_TASK"],[42,30,7,28],[42,33,7,31],[42,63,7,61],[43,2,8,0],[43,8,8,6,"GEOFENCE_RADIUS"],[43,23,8,21],[43,26,8,24],[43,28,8,26],[43,29,8,27],[43,30,8,28],[44,2,9,0],[44,8,9,6,"CHECK_INTERVAL"],[44,22,9,20],[44,25,9,23],[44,30,9,28],[44,31,9,29],[44,32,9,30],[46,2,23,0],[47,2,24,0],[47,11,24,9,"calculateDistance"],[47,28,24,26,"calculateDistance"],[47,29,25,2,"lat1"],[47,33,25,14],[47,35,26,2,"lon1"],[47,39,26,14],[47,41,27,2,"lat2"],[47,45,27,14],[47,47,28,2,"lon2"],[47,51,28,14],[47,53,29,10],[48,4,30,2],[48,10,30,8,"R"],[48,11,30,9],[48,14,30,12],[48,20,30,18],[48,21,30,19],[48,22,30,20],[49,4,31,2],[49,10,31,8,"Ï†1"],[49,12,31,10],[49,15,31,14,"lat1"],[49,19,31,18],[49,22,31,21,"Math"],[49,26,31,25],[49,27,31,26,"PI"],[49,29,31,28],[49,32,31,32],[49,35,31,35],[50,4,32,2],[50,10,32,8,"Ï†2"],[50,12,32,10],[50,15,32,14,"lat2"],[50,19,32,18],[50,22,32,21,"Math"],[50,26,32,25],[50,27,32,26,"PI"],[50,29,32,28],[50,32,32,32],[50,35,32,35],[51,4,33,2],[51,10,33,8,"Î”Ï†"],[51,12,33,10],[51,15,33,14],[51,16,33,15,"lat2"],[51,20,33,19],[51,23,33,22,"lat1"],[51,27,33,26],[51,31,33,30,"Math"],[51,35,33,34],[51,36,33,35,"PI"],[51,38,33,37],[51,41,33,41],[51,44,33,44],[52,4,34,2],[52,10,34,8,"Î”Î»"],[52,12,34,10],[52,15,34,14],[52,16,34,15,"lon2"],[52,20,34,19],[52,23,34,22,"lon1"],[52,27,34,26],[52,31,34,30,"Math"],[52,35,34,34],[52,36,34,35,"PI"],[52,38,34,37],[52,41,34,41],[52,44,34,44],[53,4,36,2],[53,10,36,8,"a"],[53,11,36,9],[53,14,37,4,"Math"],[53,18,37,8],[53,19,37,9,"sin"],[53,22,37,12],[53,23,37,13,"Î”Ï†"],[53,25,37,15],[53,28,37,18],[53,29,37,19],[53,30,37,20],[53,33,37,23,"Math"],[53,37,37,27],[53,38,37,28,"sin"],[53,41,37,31],[53,42,37,32,"Î”Ï†"],[53,44,37,34],[53,47,37,37],[53,48,37,38],[53,49,37,39],[53,52,38,4,"Math"],[53,56,38,8],[53,57,38,9,"cos"],[53,60,38,12],[53,61,38,13,"Ï†1"],[53,63,38,15],[53,64,38,16],[53,67,38,19,"Math"],[53,71,38,23],[53,72,38,24,"cos"],[53,75,38,27],[53,76,38,28,"Ï†2"],[53,78,38,30],[53,79,38,31],[53,82,38,34,"Math"],[53,86,38,38],[53,87,38,39,"sin"],[53,90,38,42],[53,91,38,43,"Î”Î»"],[53,93,38,45],[53,96,38,48],[53,97,38,49],[53,98,38,50],[53,101,38,53,"Math"],[53,105,38,57],[53,106,38,58,"sin"],[53,109,38,61],[53,110,38,62,"Î”Î»"],[53,112,38,64],[53,115,38,67],[53,116,38,68],[53,117,38,69],[54,4,39,2],[54,10,39,8,"c"],[54,11,39,9],[54,14,39,12],[54,15,39,13],[54,18,39,16,"Math"],[54,22,39,20],[54,23,39,21,"atan2"],[54,28,39,26],[54,29,39,27,"Math"],[54,33,39,31],[54,34,39,32,"sqrt"],[54,38,39,36],[54,39,39,37,"a"],[54,40,39,38],[54,41,39,39],[54,43,39,41,"Math"],[54,47,39,45],[54,48,39,46,"sqrt"],[54,52,39,50],[54,53,39,51],[54,54,39,52],[54,57,39,55,"a"],[54,58,39,56],[54,59,39,57],[54,60,39,58],[55,4,41,2],[55,11,41,9,"R"],[55,12,41,10],[55,15,41,13,"c"],[55,16,41,14],[55,17,41,15],[55,18,41,16],[56,2,42,0],[58,2,44,0],[59,2,45,0],[59,17,45,15,"getGeofenceState"],[59,33,45,31,"getGeofenceState"],[59,34,45,31],[59,36,45,58],[60,4,46,2],[60,8,46,6],[61,6,47,4],[61,12,47,10,"state"],[61,17,47,15],[61,20,47,18],[61,26,47,24,"AsyncStorage"],[61,38,47,36],[61,39,47,36,"default"],[61,46,47,36],[61,47,47,37,"getItem"],[61,54,47,44],[61,55,47,45],[61,71,47,61],[61,72,47,62],[62,6,48,4],[62,10,48,8,"state"],[62,15,48,13],[62,17,48,15],[63,8,49,6],[63,15,49,13,"JSON"],[63,19,49,17],[63,20,49,18,"parse"],[63,25,49,23],[63,26,49,24,"state"],[63,31,49,29],[63,32,49,30],[64,6,50,4],[65,4,51,2],[65,5,51,3],[65,6,51,4],[65,13,51,11,"error"],[65,18,51,16],[65,20,51,18],[66,6,52,4,"console"],[66,13,52,11],[66,14,52,12,"error"],[66,19,52,17],[66,20,52,18],[66,51,52,49],[66,53,52,51,"error"],[66,58,52,56],[66,59,52,57],[67,4,53,2],[68,4,54,2],[68,11,54,9],[69,6,54,11,"currentCourtId"],[69,20,54,25],[69,22,54,27],[69,26,54,31],[70,6,54,33,"lastCheckTime"],[70,19,54,46],[70,21,54,48],[71,4,54,50],[71,5,54,51],[72,2,55,0],[74,2,57,0],[75,2,58,0],[75,17,58,15,"saveGeofenceState"],[75,34,58,32,"saveGeofenceState"],[75,35,58,33,"state"],[75,40,58,53],[75,42,58,70],[76,4,59,2],[76,8,59,6],[77,6,60,4],[77,12,60,10,"AsyncStorage"],[77,24,60,22],[77,25,60,22,"default"],[77,32,60,22],[77,33,60,23,"setItem"],[77,40,60,30],[77,41,60,31],[77,57,60,47],[77,59,60,49,"JSON"],[77,63,60,53],[77,64,60,54,"stringify"],[77,73,60,63],[77,74,60,64,"state"],[77,79,60,69],[77,80,60,70],[77,81,60,71],[78,4,61,2],[78,5,61,3],[78,6,61,4],[78,13,61,11,"error"],[78,18,61,16],[78,20,61,18],[79,6,62,4,"console"],[79,13,62,11],[79,14,62,12,"error"],[79,19,62,17],[79,20,62,18],[79,50,62,48],[79,52,62,50,"error"],[79,57,62,55],[79,58,62,56],[80,4,63,2],[81,2,64,0],[83,2,66,0],[84,2,67,0],[84,17,67,15,"checkInToCourt"],[84,31,67,29,"checkInToCourt"],[84,32,67,30,"courtId"],[84,39,67,45],[84,41,67,65],[85,4,68,2],[85,8,68,6],[86,6,69,4],[86,12,69,10,"token"],[86,17,69,15],[86,20,69,18],[86,26,69,24,"AsyncStorage"],[86,38,69,36],[86,39,69,36,"default"],[86,46,69,36],[86,47,69,37,"getItem"],[86,54,69,44],[86,55,69,45],[86,67,69,57],[86,68,69,58],[87,6,70,4],[87,12,70,10,"apiUrl"],[87,18,70,16],[87,21,70,19,"process"],[87,28,70,26],[87,29,70,27,"env"],[87,32,70,30],[87,33,70,31,"EXPO_PUBLIC_BACKEND_URL"],[87,56,70,54],[88,6,72,4],[88,10,72,8],[88,11,72,9,"token"],[88,16,72,14],[88,18,72,16],[89,8,73,6,"console"],[89,15,73,13],[89,16,73,14,"log"],[89,19,73,17],[89,20,73,18],[89,65,73,63],[89,66,73,64],[90,8,74,6],[90,15,74,13],[90,20,74,18],[91,6,75,4],[92,6,77,4],[92,12,77,10,"axios"],[92,17,77,15],[92,18,77,15,"default"],[92,25,77,15],[92,26,77,16,"post"],[92,30,77,20],[92,31,78,6],[92,34,78,9,"apiUrl"],[92,40,78,15],[92,55,78,30,"courtId"],[92,62,78,37],[92,72,78,47],[92,74,79,6],[92,75,79,7],[92,76,79,8],[92,78,80,6],[93,8,80,8,"headers"],[93,15,80,15],[93,17,80,17],[94,10,80,19,"Authorization"],[94,23,80,32],[94,25,80,34],[94,35,80,44,"token"],[94,40,80,49],[95,8,80,52],[96,6,80,54],[96,7,81,4],[96,8,81,5],[97,6,83,4,"console"],[97,13,83,11],[97,14,83,12,"log"],[97,17,83,15],[97,18,83,16],[97,48,83,46,"courtId"],[97,55,83,53],[97,57,83,55],[97,58,83,56],[98,6,84,4],[98,13,84,11],[98,17,84,15],[99,4,85,2],[99,5,85,3],[99,6,85,4],[99,13,85,11,"error"],[99,18,85,16],[99,20,85,18],[100,6,86,4,"console"],[100,13,86,11],[100,14,86,12,"error"],[100,19,86,17],[100,20,86,18],[100,45,86,43],[100,47,86,45,"error"],[100,52,86,50],[100,53,86,51],[101,6,87,4],[101,13,87,11],[101,18,87,16],[102,4,88,2],[103,2,89,0],[105,2,91,0],[106,2,92,0],[106,17,92,15,"checkOutOfCourt"],[106,32,92,30,"checkOutOfCourt"],[106,33,92,31,"courtId"],[106,40,92,46],[106,42,92,66],[107,4,93,2],[107,8,93,6],[108,6,94,4],[108,12,94,10,"token"],[108,17,94,15],[108,20,94,18],[108,26,94,24,"AsyncStorage"],[108,38,94,36],[108,39,94,36,"default"],[108,46,94,36],[108,47,94,37,"getItem"],[108,54,94,44],[108,55,94,45],[108,67,94,57],[108,68,94,58],[109,6,95,4],[109,12,95,10,"apiUrl"],[109,18,95,16],[109,21,95,19,"process"],[109,28,95,26],[109,29,95,27,"env"],[109,32,95,30],[109,33,95,31,"EXPO_PUBLIC_BACKEND_URL"],[109,56,95,54],[110,6,97,4],[110,10,97,8],[110,11,97,9,"token"],[110,16,97,14],[110,18,97,16],[111,8,98,6,"console"],[111,15,98,13],[111,16,98,14,"log"],[111,19,98,17],[111,20,98,18],[111,66,98,64],[111,67,98,65],[112,8,99,6],[112,15,99,13],[112,20,99,18],[113,6,100,4],[114,6,102,4],[114,12,102,10,"axios"],[114,17,102,15],[114,18,102,15,"default"],[114,25,102,15],[114,26,102,16,"post"],[114,30,102,20],[114,31,103,6],[114,34,103,9,"apiUrl"],[114,40,103,15],[114,55,103,30,"courtId"],[114,62,103,37],[114,73,103,48],[114,75,104,6],[114,76,104,7],[114,77,104,8],[114,79,105,6],[115,8,105,8,"headers"],[115,15,105,15],[115,17,105,17],[116,10,105,19,"Authorization"],[116,23,105,32],[116,25,105,34],[116,35,105,44,"token"],[116,40,105,49],[117,8,105,52],[118,6,105,54],[118,7,106,4],[118,8,106,5],[119,6,108,4,"console"],[119,13,108,11],[119,14,108,12,"log"],[119,17,108,15],[119,18,108,16],[119,49,108,47,"courtId"],[119,56,108,54],[119,58,108,56],[119,59,108,57],[120,6,109,4],[120,13,109,11],[120,17,109,15],[121,4,110,2],[121,5,110,3],[121,6,110,4],[121,13,110,11,"error"],[121,18,110,16],[121,20,110,18],[122,6,111,4,"console"],[122,13,111,11],[122,14,111,12,"error"],[122,19,111,17],[122,20,111,18],[122,46,111,44],[122,48,111,46,"error"],[122,53,111,51],[122,54,111,52],[123,6,112,4],[123,13,112,11],[123,18,112,16],[124,4,113,2],[125,2,114,0],[127,2,116,0],[128,2,117,0],[128,17,117,15,"fetchCourts"],[128,28,117,26,"fetchCourts"],[128,29,117,26],[128,31,117,47],[129,4,118,2],[129,8,118,6],[130,6,119,4],[130,12,119,10,"apiUrl"],[130,18,119,16],[130,21,119,19,"process"],[130,28,119,26],[130,29,119,27,"env"],[130,32,119,30],[130,33,119,31,"EXPO_PUBLIC_BACKEND_URL"],[130,56,119,54],[131,6,120,4],[131,12,120,10,"response"],[131,20,120,18],[131,23,120,21],[131,29,120,27,"axios"],[131,34,120,32],[131,35,120,32,"default"],[131,42,120,32],[131,43,120,33,"get"],[131,46,120,36],[131,47,120,37],[131,50,120,40,"apiUrl"],[131,56,120,46],[131,69,120,59],[131,70,120,60],[132,6,121,4],[132,13,121,11,"response"],[132,21,121,19],[132,22,121,20,"data"],[132,26,121,24],[133,4,122,2],[133,5,122,3],[133,6,122,4],[133,13,122,11,"error"],[133,18,122,16],[133,20,122,18],[134,6,123,4,"console"],[134,13,123,11],[134,14,123,12,"error"],[134,19,123,17],[134,20,123,18],[134,44,123,42],[134,46,123,44,"error"],[134,51,123,49],[134,52,123,50],[135,6,124,4],[135,13,124,11],[135,15,124,13],[136,4,125,2],[137,2,126,0],[139,2,128,0],[140,2,129,0],[140,17,129,15,"processLocationUpdate"],[140,38,129,36,"processLocationUpdate"],[140,39,129,37,"location"],[140,47,129,70],[140,49,129,72],[141,4,130,2],[141,10,130,8],[142,6,130,10,"latitude"],[142,14,130,18],[143,6,130,20,"longitude"],[144,4,130,30],[144,5,130,31],[144,8,130,34,"location"],[144,16,130,42],[144,17,130,43,"coords"],[144,23,130,49],[145,4,131,2],[145,10,131,8,"state"],[145,15,131,13],[145,18,131,16],[145,24,131,22,"getGeofenceState"],[145,40,131,38],[145,41,131,39],[145,42,131,40],[147,4,133,2],[148,4,134,2],[148,10,134,8,"now"],[148,13,134,11],[148,16,134,14,"Date"],[148,20,134,18],[148,21,134,19,"now"],[148,24,134,22],[148,25,134,23],[148,26,134,24],[149,4,135,2],[149,8,135,6,"now"],[149,11,135,9],[149,14,135,12,"state"],[149,19,135,17],[149,20,135,18,"lastCheckTime"],[149,33,135,31],[149,36,135,34,"CHECK_INTERVAL"],[149,50,135,48],[149,52,135,50],[150,6,136,4],[151,4,137,2],[153,4,139,2],[154,4,140,2],[154,10,140,8,"courts"],[154,16,140,14],[154,19,140,17],[154,25,140,23,"fetchCourts"],[154,36,140,34],[154,37,140,35],[154,38,140,36],[155,4,141,2],[155,8,141,6,"courts"],[155,14,141,12],[155,15,141,13,"length"],[155,21,141,19],[155,26,141,24],[155,27,141,25],[155,29,141,27],[156,6,142,4],[157,4,143,2],[159,4,145,2],[160,4,146,2],[160,8,146,6,"nearestCourt"],[160,20,146,32],[160,23,146,35],[160,27,146,39],[161,4,147,2],[161,8,147,6,"minDistance"],[161,19,147,17],[161,22,147,20,"Infinity"],[161,30,147,28],[162,4,149,2],[162,9,149,7],[162,15,149,13,"court"],[162,20,149,18],[162,24,149,22,"courts"],[162,30,149,28],[162,32,149,30],[163,6,150,4],[163,12,150,10,"distance"],[163,20,150,18],[163,23,150,21,"calculateDistance"],[163,40,150,38],[163,41,151,6,"latitude"],[163,49,151,14],[163,51,152,6,"longitude"],[163,60,152,15],[163,62,153,6,"court"],[163,67,153,11],[163,68,153,12,"latitude"],[163,76,153,20],[163,78,154,6,"court"],[163,83,154,11],[163,84,154,12,"longitude"],[163,93,155,4],[163,94,155,5],[164,6,157,4],[164,10,157,8,"distance"],[164,18,157,16],[164,21,157,19,"GEOFENCE_RADIUS"],[164,36,157,34],[164,40,157,38,"distance"],[164,48,157,46],[164,51,157,49,"minDistance"],[164,62,157,60],[164,64,157,62],[165,8,158,6,"nearestCourt"],[165,20,158,18],[165,23,158,21,"court"],[165,28,158,26],[166,8,159,6,"minDistance"],[166,19,159,17],[166,22,159,20,"distance"],[166,30,159,28],[167,6,160,4],[168,4,161,2],[170,4,163,2],[171,4,164,2],[171,8,164,6,"nearestCourt"],[171,20,164,18],[171,22,164,20],[172,6,165,4],[173,6,166,4],[173,10,166,8,"state"],[173,15,166,13],[173,16,166,14,"currentCourtId"],[173,30,166,28],[173,35,166,33,"nearestCourt"],[173,47,166,45],[173,48,166,46,"id"],[173,50,166,48],[173,52,166,50],[174,8,167,6],[175,8,168,6],[175,12,168,10,"state"],[175,17,168,15],[175,18,168,16,"currentCourtId"],[175,32,168,30],[175,34,168,32],[176,10,169,8],[177,10,170,8],[177,16,170,14,"checkOutOfCourt"],[177,31,170,29],[177,32,170,30,"state"],[177,37,170,35],[177,38,170,36,"currentCourtId"],[177,52,170,50],[177,53,170,51],[178,8,171,6],[180,8,173,6],[181,8,174,6],[181,14,174,12,"success"],[181,21,174,19],[181,24,174,22],[181,30,174,28,"checkInToCourt"],[181,44,174,42],[181,45,174,43,"nearestCourt"],[181,57,174,55],[181,58,174,56,"id"],[181,60,174,58],[181,61,174,59],[182,8,175,6],[182,12,175,10,"success"],[182,19,175,17],[182,21,175,19],[183,10,176,8],[183,16,176,14,"saveGeofenceState"],[183,33,176,31],[183,34,176,32],[184,12,177,10,"currentCourtId"],[184,26,177,24],[184,28,177,26,"nearestCourt"],[184,40,177,38],[184,41,177,39,"id"],[184,43,177,41],[185,12,178,10,"lastCheckTime"],[185,25,178,23],[185,27,178,25,"now"],[186,10,179,8],[186,11,179,9],[186,12,179,10],[187,10,180,8,"console"],[187,17,180,15],[187,18,180,16,"log"],[187,21,180,19],[187,22,180,20],[187,48,180,46,"nearestCourt"],[187,60,180,58],[187,61,180,59,"name"],[187,65,180,63],[187,67,180,65],[187,68,180,66],[188,8,181,6],[189,6,182,4],[190,4,183,2],[190,5,183,3],[190,11,183,9],[191,6,184,4],[192,6,185,4],[192,10,185,8,"state"],[192,15,185,13],[192,16,185,14,"currentCourtId"],[192,30,185,28],[192,32,185,30],[193,8,186,6],[194,8,187,6],[194,14,187,12,"checkOutOfCourt"],[194,29,187,27],[194,30,187,28,"state"],[194,35,187,33],[194,36,187,34,"currentCourtId"],[194,50,187,48],[194,51,187,49],[195,8,188,6],[195,14,188,12,"saveGeofenceState"],[195,31,188,29],[195,32,188,30],[196,10,189,8,"currentCourtId"],[196,24,189,22],[196,26,189,24],[196,30,189,28],[197,10,190,8,"lastCheckTime"],[197,23,190,21],[197,25,190,23,"now"],[198,8,191,6],[198,9,191,7],[198,10,191,8],[199,8,192,6,"console"],[199,15,192,13],[199,16,192,14,"log"],[199,19,192,17],[199,20,192,18],[199,51,192,49],[199,52,192,50],[200,6,193,4],[201,4,194,2],[203,4,196,2],[204,4,197,2,"state"],[204,9,197,7],[204,10,197,8,"lastCheckTime"],[204,23,197,21],[204,26,197,24,"now"],[204,29,197,27],[205,4,198,2],[205,10,198,8,"saveGeofenceState"],[205,27,198,25],[205,28,198,26,"state"],[205,33,198,31],[205,34,198,32],[206,2,199,0],[208,2,201,0],[209,2,202,0,"TaskManager"],[209,13,202,11],[209,14,202,12,"defineTask"],[209,24,202,22],[209,25,202,23,"LOCATION_TRACKING_TASK"],[209,47,202,45],[209,49,202,47],[209,56,202,54],[210,4,202,56,"data"],[210,8,202,60],[211,4,202,62,"error"],[212,2,202,73],[212,3,202,74],[212,8,202,79],[213,4,203,2],[213,8,203,6,"error"],[213,13,203,11],[213,15,203,13],[214,6,204,4,"console"],[214,13,204,11],[214,14,204,12,"error"],[214,19,204,17],[214,20,204,18],[214,53,204,51],[214,55,204,53,"error"],[214,60,204,58],[214,61,204,59],[215,6,205,4],[216,4,206,2],[217,4,208,2],[217,8,208,6,"data"],[217,12,208,10],[217,14,208,12],[218,6,209,4],[218,12,209,10],[219,8,209,12,"locations"],[220,6,209,22],[220,7,209,23],[220,10,209,26,"data"],[220,14,209,30],[221,6,210,4],[221,10,210,8,"locations"],[221,19,210,17],[221,23,210,21,"locations"],[221,32,210,30],[221,33,210,31,"length"],[221,39,210,37],[221,42,210,40],[221,43,210,41],[221,45,210,43],[222,8,211,6],[222,14,211,12,"location"],[222,22,211,20],[222,25,211,23,"locations"],[222,34,211,32],[222,35,211,33],[222,36,211,34],[222,37,211,35],[223,8,212,6],[223,14,212,12,"processLocationUpdate"],[223,35,212,33],[223,36,212,34,"location"],[223,44,212,42],[223,45,212,43],[224,6,213,4],[225,4,214,2],[226,2,215,0],[226,3,215,1],[226,4,215,2],[227,2,217,7],[227,8,217,13,"GeofencingService"],[227,25,217,30],[227,26,217,31],[228,4,218,2],[229,4,219,2],[229,17,219,15,"startGeofencing"],[229,32,219,30,"startGeofencing"],[229,33,219,30],[229,35,219,51],[230,6,220,4],[230,10,220,8],[231,8,221,6],[232,8,222,6],[232,14,222,12,"isRegistered"],[232,26,222,24],[232,29,222,27],[232,35,222,33,"TaskManager"],[232,46,222,44],[232,47,222,45,"isTaskRegisteredAsync"],[232,68,222,66],[232,69,223,8,"LOCATION_TRACKING_TASK"],[232,91,224,6],[232,92,224,7],[233,8,226,6],[233,12,226,10,"isRegistered"],[233,24,226,22],[233,26,226,24],[234,10,227,8,"console"],[234,17,227,15],[234,18,227,16,"log"],[234,21,227,19],[234,22,227,20],[234,50,227,48],[234,51,227,49],[235,10,228,8],[235,17,228,15],[235,21,228,19],[236,8,229,6],[238,8,231,6],[239,8,232,6],[239,14,232,12],[240,10,232,14,"status"],[240,16,232,20],[240,18,232,22,"foregroundStatus"],[241,8,232,39],[241,9,232,40],[241,12,233,8],[241,18,233,14,"Location"],[241,26,233,22],[241,27,233,23,"requestForegroundPermissionsAsync"],[241,60,233,56],[241,61,233,57],[241,62,233,58],[242,8,234,6],[242,12,234,10,"foregroundStatus"],[242,28,234,26],[242,33,234,31],[242,42,234,40],[242,44,234,42],[243,10,235,8,"console"],[243,17,235,15],[243,18,235,16,"error"],[243,23,235,21],[243,24,235,22],[243,68,235,66],[243,69,235,67],[244,10,236,8],[244,17,236,15],[244,22,236,20],[245,8,237,6],[246,8,239,6],[246,14,239,12],[247,10,239,14,"status"],[247,16,239,20],[247,18,239,22,"backgroundStatus"],[248,8,239,39],[248,9,239,40],[248,12,240,8],[248,18,240,14,"Location"],[248,26,240,22],[248,27,240,23,"requestBackgroundPermissionsAsync"],[248,60,240,56],[248,61,240,57],[248,62,240,58],[249,8,241,6],[249,12,241,10,"backgroundStatus"],[249,28,241,26],[249,33,241,31],[249,42,241,40],[249,44,241,42],[250,10,242,8,"console"],[250,17,242,15],[250,18,242,16,"error"],[250,23,242,21],[250,24,242,22],[250,68,242,66],[250,69,242,67],[251,10,243,8],[251,17,243,15],[251,22,243,20],[252,8,244,6],[254,8,246,6],[255,8,247,6],[255,14,247,12,"Location"],[255,22,247,20],[255,23,247,21,"startLocationUpdatesAsync"],[255,48,247,46],[255,49,247,47,"LOCATION_TRACKING_TASK"],[255,71,247,69],[255,73,247,71],[256,10,248,8,"accuracy"],[256,18,248,16],[256,20,248,18,"Location"],[256,28,248,26],[256,29,248,27,"Accuracy"],[256,37,248,35],[256,38,248,36,"Balanced"],[256,46,248,44],[257,10,249,8,"distanceInterval"],[257,26,249,24],[257,28,249,26],[257,30,249,28],[258,10,249,30],[259,10,250,8,"timeInterval"],[259,22,250,20],[259,24,250,22],[259,29,250,27],[260,10,250,29],[261,10,251,8,"foregroundService"],[261,27,251,25],[261,29,251,27],[262,12,252,10,"notificationTitle"],[262,29,252,27],[262,31,252,29],[262,43,252,41],[263,12,253,10,"notificationBody"],[263,28,253,26],[263,30,253,28],[263,84,253,82],[264,12,254,10,"notificationColor"],[264,29,254,27],[264,31,254,29],[265,10,255,8],[265,11,255,9],[266,10,256,8,"pausesUpdatesAutomatically"],[266,36,256,34],[266,38,256,36],[266,43,256,41],[267,10,257,8,"showsBackgroundLocationIndicator"],[267,42,257,40],[267,44,257,42],[268,8,258,6],[268,9,258,7],[268,10,258,8],[269,8,260,6,"console"],[269,15,260,13],[269,16,260,14,"log"],[269,19,260,17],[269,20,260,18],[269,55,260,53],[269,56,260,54],[270,8,261,6],[270,15,261,13],[270,19,261,17],[271,6,262,4],[271,7,262,5],[271,8,262,6],[271,15,262,13,"error"],[271,20,262,18],[271,22,262,20],[272,8,263,6,"console"],[272,15,263,13],[272,16,263,14,"error"],[272,21,263,19],[272,22,263,20],[272,50,263,48],[272,52,263,50,"error"],[272,57,263,55],[272,58,263,56],[273,8,264,6],[273,15,264,13],[273,20,264,18],[274,6,265,4],[275,4,266,2],[277,4,268,2],[278,4,269,2],[278,17,269,15,"stopGeofencing"],[278,31,269,29,"stopGeofencing"],[278,32,269,29],[278,34,269,47],[279,6,270,4],[279,10,270,8],[280,8,271,6],[280,14,271,12,"isRegistered"],[280,26,271,24],[280,29,271,27],[280,35,271,33,"TaskManager"],[280,46,271,44],[280,47,271,45,"isTaskRegisteredAsync"],[280,68,271,66],[280,69,272,8,"LOCATION_TRACKING_TASK"],[280,91,273,6],[280,92,273,7],[281,8,275,6],[281,12,275,10,"isRegistered"],[281,24,275,22],[281,26,275,24],[282,10,276,8],[282,16,276,14,"Location"],[282,24,276,22],[282,25,276,23,"stopLocationUpdatesAsync"],[282,49,276,47],[282,50,276,48,"LOCATION_TRACKING_TASK"],[282,72,276,70],[282,73,276,71],[283,10,277,8,"console"],[283,17,277,15],[283,18,277,16,"log"],[283,21,277,19],[283,22,277,20],[283,44,277,42],[283,45,277,43],[284,8,278,6],[285,6,279,4],[285,7,279,5],[285,8,279,6],[285,15,279,13,"error"],[285,20,279,18],[285,22,279,20],[286,8,280,6,"console"],[286,15,280,13],[286,16,280,14,"error"],[286,21,280,19],[286,22,280,20],[286,50,280,48],[286,52,280,50,"error"],[286,57,280,55],[286,58,280,56],[287,6,281,4],[288,4,282,2],[290,4,284,2],[291,4,285,2],[291,17,285,15,"isGeofencingActive"],[291,35,285,33,"isGeofencingActive"],[291,36,285,33],[291,38,285,54],[292,6,286,4],[292,10,286,8],[293,8,287,6],[293,15,287,13],[293,21,287,19,"TaskManager"],[293,32,287,30],[293,33,287,31,"isTaskRegisteredAsync"],[293,54,287,52],[293,55,287,53,"LOCATION_TRACKING_TASK"],[293,77,287,75],[293,78,287,76],[294,6,288,4],[294,7,288,5],[294,8,288,6],[294,15,288,13,"error"],[294,20,288,18],[294,22,288,20],[295,8,289,6,"console"],[295,15,289,13],[295,16,289,14,"error"],[295,21,289,19],[295,22,289,20],[295,57,289,55],[295,59,289,57,"error"],[295,64,289,62],[295,65,289,63],[296,8,290,6],[296,15,290,13],[296,20,290,18],[297,6,291,4],[298,4,292,2],[300,4,294,2],[301,4,295,2],[301,17,295,15,"getCurrentState"],[301,32,295,30,"getCurrentState"],[301,33,295,30],[301,35,295,57],[302,6,296,4],[302,13,296,11],[302,19,296,17,"getGeofenceState"],[302,35,296,33],[302,36,296,34],[302,37,296,35],[303,4,297,2],[305,4,299,2],[306,4,300,2],[306,17,300,15,"clearState"],[306,27,300,25,"clearState"],[306,28,300,25],[306,30,300,43],[307,6,301,4],[307,12,301,10,"saveGeofenceState"],[307,29,301,27],[307,30,301,28],[308,8,301,30,"currentCourtId"],[308,22,301,44],[308,24,301,46],[308,28,301,50],[309,8,301,52,"lastCheckTime"],[309,21,301,65],[309,23,301,67],[310,6,301,69],[310,7,301,70],[310,8,301,71],[311,4,302,2],[313,4,304,2],[314,4,305,2],[314,17,305,15,"checkPermissions"],[314,33,305,31,"checkPermissions"],[314,34,305,31],[314,36,308,5],[315,6,309,4],[315,12,309,10,"foreground"],[315,22,309,20],[315,25,309,23],[315,31,309,29,"Location"],[315,39,309,37],[315,40,309,38,"getForegroundPermissionsAsync"],[315,69,309,67],[315,70,309,68],[315,71,309,69],[316,6,310,4],[316,12,310,10,"background"],[316,22,310,20],[316,25,310,23],[316,31,310,29,"Location"],[316,39,310,37],[316,40,310,38,"getBackgroundPermissionsAsync"],[316,69,310,67],[316,70,310,68],[316,71,310,69],[317,6,312,4],[317,13,312,11],[318,8,313,6,"foreground"],[318,18,313,16],[318,20,313,18,"foreground"],[318,30,313,28],[318,31,313,29,"status"],[318,37,313,35],[318,42,313,40],[318,51,313,49],[319,8,314,6,"background"],[319,18,314,16],[319,20,314,18,"background"],[319,30,314,28],[319,31,314,29,"status"],[319,37,314,35],[319,42,314,40],[320,6,315,4],[320,7,315,5],[321,4,316,2],[322,2,317,0],[323,0,317,1],[323,3]],"functionMap":{"names":["<global>","calculateDistance","getGeofenceState","saveGeofenceState","checkInToCourt","checkOutOfCourt","fetchCourts","processLocationUpdate","TaskManager.defineTask$argument_1","GeofencingService","startGeofencing","stopGeofencing","isGeofencingActive","getCurrentState","clearState","checkPermissions"],"mappings":"AAA;ACuB;CDkB;AEG;CFU;AGG;CHM;AIG;CJsB;AKG;CLsB;AMG;CNS;AOG;CPsE;+CQG;CRa;OSE;ECE;GD+C;EEG;GFa;EGG;GHO;EIG;GJE;EKG;GLE;EMG;GNW;CTC"},"hasCjsExports":false},"type":"js/module"}]}