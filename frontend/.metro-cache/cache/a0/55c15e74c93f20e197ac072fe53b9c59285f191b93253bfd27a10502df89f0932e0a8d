{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n            headers: {\n              Authorization: `Bearer ${storedToken}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: userData\n        } = response.data;\n        setToken(newToken);\n        setUser(userData);\n        await AsyncStorage.default.setItem('token', newToken);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: userData\n        } = response.data;\n        setToken(newToken);\n        setUser(userData);\n        await AsyncStorage.default.setItem('token', newToken);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      setUser(null);\n      setToken(null);\n      await AsyncStorage.default.removeItem('token');\n    };\n    const updateUser = userData => {\n      if (user) {\n        setUser({\n          ...user,\n          ...userData\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        updateUser,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":143,"map":[[15,2,28,0,"Object"],[15,8,28,0],[15,9,28,0,"defineProperty"],[15,23,28,0],[15,24,28,0,"exports"],[15,31,28,0],[16,4,28,0,"enumerable"],[16,14,28,0],[17,4,28,0,"get"],[17,7,28,0],[17,18,28,0,"get"],[17,19,28,0],[18,6,28,0],[18,13,28,0,"AuthProvider"],[18,25,28,0],[19,4,28,0],[20,2,28,0],[21,2,105,0,"Object"],[21,8,105,0],[21,9,105,0,"defineProperty"],[21,23,105,0],[21,24,105,0,"exports"],[21,31,105,0],[22,4,105,0,"enumerable"],[22,14,105,0],[23,4,105,0,"get"],[23,7,105,0],[23,18,105,0,"get"],[23,19,105,0],[24,6,105,0],[24,13,105,0,"useAuth"],[24,20,105,0],[25,4,105,0],[26,2,105,0],[27,2,111,2],[27,6,111,2,"_expoVirtualEnv"],[27,21,111,2],[27,24,111,2,"require"],[27,31,111,2],[27,32,111,2,"_dependencyMap"],[27,46,111,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"API_URL"],[34,15,5,13],[34,18,5,13,"_expoVirtualEnv"],[34,33,5,13],[34,34,5,13,"env"],[34,37,5,13],[34,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[34,61,5,51],[35,2,26,0],[35,8,26,6,"AuthContext"],[35,19,26,17],[35,35,26,20],[35,39,26,20,"createContext"],[35,45,26,33],[35,46,26,33,"createContext"],[35,59,26,33],[35,61,26,63,"undefined"],[35,70,26,72],[35,71,26,73],[36,2,28,7],[36,8,28,13,"AuthProvider"],[36,20,28,66],[36,23,28,69,"AuthProvider"],[36,24,28,70],[37,4,28,72,"children"],[38,2,28,81],[38,3,28,82],[38,8,28,87],[39,4,28,87,"_s"],[39,6,28,87],[40,4,29,2],[40,10,29,8],[40,11,29,9,"user"],[40,15,29,13],[40,17,29,15,"setUser"],[40,24,29,22],[40,25,29,23],[40,28,29,26],[40,32,29,26,"useState"],[40,38,29,34],[40,39,29,34,"useState"],[40,47,29,34],[40,49,29,48],[40,53,29,52],[40,54,29,53],[41,4,30,2],[41,10,30,8],[41,11,30,9,"token"],[41,16,30,14],[41,18,30,16,"setToken"],[41,26,30,24],[41,27,30,25],[41,30,30,28],[41,34,30,28,"useState"],[41,40,30,36],[41,41,30,36,"useState"],[41,49,30,36],[41,51,30,52],[41,55,30,56],[41,56,30,57],[42,4,31,2],[42,10,31,8],[42,11,31,9,"loading"],[42,18,31,16],[42,20,31,18,"setLoading"],[42,30,31,28],[42,31,31,29],[42,34,31,32],[42,38,31,32,"useState"],[42,44,31,40],[42,45,31,40,"useState"],[42,53,31,40],[42,55,31,41],[42,59,31,45],[42,60,31,46],[43,4,33,2],[43,8,33,2,"useEffect"],[43,14,33,11],[43,15,33,11,"useEffect"],[43,24,33,11],[43,26,33,12],[43,32,33,18],[44,6,34,4,"checkAuth"],[44,15,34,13],[44,16,34,14],[44,17,34,15],[45,4,35,2],[45,5,35,3],[45,7,35,5],[45,9,35,7],[45,10,35,8],[46,4,37,2],[46,10,37,8,"checkAuth"],[46,19,37,17],[46,22,37,20],[46,28,37,20,"checkAuth"],[46,29,37,20],[46,34,37,32],[47,6,38,4],[47,10,38,8],[48,8,39,6],[48,14,39,12,"storedToken"],[48,25,39,23],[48,28,39,26],[48,34,39,32,"AsyncStorage"],[48,46,39,44],[48,47,39,44,"default"],[48,54,39,44],[48,55,39,45,"getItem"],[48,62,39,52],[48,63,39,53],[48,70,39,60],[48,71,39,61],[49,8,40,6],[49,12,40,10,"storedToken"],[49,23,40,21],[49,25,40,23],[50,10,41,8,"setToken"],[50,18,41,16],[50,19,41,17,"storedToken"],[50,30,41,28],[50,31,41,29],[51,10,42,8],[51,16,42,14,"response"],[51,24,42,22],[51,27,42,25],[51,33,42,31,"axios"],[51,38,42,36],[51,39,42,36,"default"],[51,46,42,36],[51,47,42,37,"get"],[51,50,42,40],[51,51,42,41],[51,54,42,44,"API_URL"],[51,61,42,51],[51,75,42,65],[51,77,42,67],[52,12,43,10,"headers"],[52,19,43,17],[52,21,43,19],[53,14,43,21,"Authorization"],[53,27,43,34],[53,29,43,36],[53,39,43,46,"storedToken"],[53,50,43,57],[54,12,43,60],[55,10,44,8],[55,11,44,9],[55,12,44,10],[56,10,45,8,"setUser"],[56,17,45,15],[56,18,45,16,"response"],[56,26,45,24],[56,27,45,25,"data"],[56,31,45,29],[56,32,45,30],[57,8,46,6],[58,6,47,4],[58,7,47,5],[58,8,47,6],[58,15,47,13,"error"],[58,20,47,18],[58,22,47,20],[59,8,48,6,"console"],[59,15,48,13],[59,16,48,14,"error"],[59,21,48,19],[59,22,48,20],[59,42,48,40],[59,44,48,42,"error"],[59,49,48,47],[59,50,48,48],[60,8,49,6],[60,14,49,12,"AsyncStorage"],[60,26,49,24],[60,27,49,24,"default"],[60,34,49,24],[60,35,49,25,"removeItem"],[60,45,49,35],[60,46,49,36],[60,53,49,43],[60,54,49,44],[61,6,50,4],[61,7,50,5],[61,16,50,14],[62,8,51,6,"setLoading"],[62,18,51,16],[62,19,51,17],[62,24,51,22],[62,25,51,23],[63,6,52,4],[64,4,53,2],[64,5,53,3],[65,4,55,2],[65,10,55,8,"login"],[65,15,55,13],[65,18,55,16],[65,24,55,16,"login"],[65,25,55,23,"email"],[65,30,55,36],[65,32,55,38,"password"],[65,40,55,54],[65,45,55,59],[66,6,56,4],[66,10,56,8],[67,8,57,6],[67,14,57,12,"response"],[67,22,57,20],[67,25,57,23],[67,31,57,29,"axios"],[67,36,57,34],[67,37,57,34,"default"],[67,44,57,34],[67,45,57,35,"post"],[67,49,57,39],[67,50,57,40],[67,53,57,43,"API_URL"],[67,60,57,50],[67,77,57,67],[67,79,57,69],[68,10,58,8,"email"],[68,15,58,13],[69,10,59,8,"password"],[70,8,60,6],[70,9,60,7],[70,10,60,8],[71,8,61,6],[71,14,61,12],[72,10,61,14,"token"],[72,15,61,19],[72,17,61,21,"newToken"],[72,25,61,29],[73,10,61,31,"user"],[73,14,61,35],[73,16,61,37,"userData"],[74,8,61,46],[74,9,61,47],[74,12,61,50,"response"],[74,20,61,58],[74,21,61,59,"data"],[74,25,61,63],[75,8,62,6,"setToken"],[75,16,62,14],[75,17,62,15,"newToken"],[75,25,62,23],[75,26,62,24],[76,8,63,6,"setUser"],[76,15,63,13],[76,16,63,14,"userData"],[76,24,63,22],[76,25,63,23],[77,8,64,6],[77,14,64,12,"AsyncStorage"],[77,26,64,24],[77,27,64,24,"default"],[77,34,64,24],[77,35,64,25,"setItem"],[77,42,64,32],[77,43,64,33],[77,50,64,40],[77,52,64,42,"newToken"],[77,60,64,50],[77,61,64,51],[78,6,65,4],[78,7,65,5],[78,8,65,6],[78,15,65,13,"error"],[78,20,65,23],[78,22,65,25],[79,8,66,6],[79,14,66,12],[79,18,66,16,"Error"],[79,23,66,21],[79,24,66,22,"error"],[79,29,66,27],[79,30,66,28,"response"],[79,38,66,36],[79,40,66,38,"data"],[79,44,66,42],[79,46,66,44,"detail"],[79,52,66,50],[79,56,66,54],[79,70,66,68],[79,71,66,69],[80,6,67,4],[81,4,68,2],[81,5,68,3],[82,4,70,2],[82,10,70,8,"register"],[82,18,70,16],[82,21,70,19],[82,27,70,19,"register"],[82,28,70,26,"username"],[82,36,70,42],[82,38,70,44,"email"],[82,43,70,57],[82,45,70,59,"password"],[82,53,70,75],[82,58,70,80],[83,6,71,4],[83,10,71,8],[84,8,72,6],[84,14,72,12,"response"],[84,22,72,20],[84,25,72,23],[84,31,72,29,"axios"],[84,36,72,34],[84,37,72,34,"default"],[84,44,72,34],[84,45,72,35,"post"],[84,49,72,39],[84,50,72,40],[84,53,72,43,"API_URL"],[84,60,72,50],[84,80,72,70],[84,82,72,72],[85,10,73,8,"username"],[85,18,73,16],[86,10,74,8,"email"],[86,15,74,13],[87,10,75,8,"password"],[88,8,76,6],[88,9,76,7],[88,10,76,8],[89,8,77,6],[89,14,77,12],[90,10,77,14,"token"],[90,15,77,19],[90,17,77,21,"newToken"],[90,25,77,29],[91,10,77,31,"user"],[91,14,77,35],[91,16,77,37,"userData"],[92,8,77,46],[92,9,77,47],[92,12,77,50,"response"],[92,20,77,58],[92,21,77,59,"data"],[92,25,77,63],[93,8,78,6,"setToken"],[93,16,78,14],[93,17,78,15,"newToken"],[93,25,78,23],[93,26,78,24],[94,8,79,6,"setUser"],[94,15,79,13],[94,16,79,14,"userData"],[94,24,79,22],[94,25,79,23],[95,8,80,6],[95,14,80,12,"AsyncStorage"],[95,26,80,24],[95,27,80,24,"default"],[95,34,80,24],[95,35,80,25,"setItem"],[95,42,80,32],[95,43,80,33],[95,50,80,40],[95,52,80,42,"newToken"],[95,60,80,50],[95,61,80,51],[96,6,81,4],[96,7,81,5],[96,8,81,6],[96,15,81,13,"error"],[96,20,81,23],[96,22,81,25],[97,8,82,6],[97,14,82,12],[97,18,82,16,"Error"],[97,23,82,21],[97,24,82,22,"error"],[97,29,82,27],[97,30,82,28,"response"],[97,38,82,36],[97,40,82,38,"data"],[97,44,82,42],[97,46,82,44,"detail"],[97,52,82,50],[97,56,82,54],[97,77,82,75],[97,78,82,76],[98,6,83,4],[99,4,84,2],[99,5,84,3],[100,4,86,2],[100,10,86,8,"logout"],[100,16,86,14],[100,19,86,17],[100,25,86,17,"logout"],[100,26,86,17],[100,31,86,29],[101,6,87,4,"setUser"],[101,13,87,11],[101,14,87,12],[101,18,87,16],[101,19,87,17],[102,6,88,4,"setToken"],[102,14,88,12],[102,15,88,13],[102,19,88,17],[102,20,88,18],[103,6,89,4],[103,12,89,10,"AsyncStorage"],[103,24,89,22],[103,25,89,22,"default"],[103,32,89,22],[103,33,89,23,"removeItem"],[103,43,89,33],[103,44,89,34],[103,51,89,41],[103,52,89,42],[104,4,90,2],[104,5,90,3],[105,4,92,2],[105,10,92,8,"updateUser"],[105,20,92,18],[105,23,92,22,"userData"],[105,31,92,45],[105,35,92,50],[106,6,93,4],[106,10,93,8,"user"],[106,14,93,12],[106,16,93,14],[107,8,94,6,"setUser"],[107,15,94,13],[107,16,94,14],[108,10,94,16],[108,13,94,19,"user"],[108,17,94,23],[109,10,94,25],[109,13,94,28,"userData"],[110,8,94,37],[110,9,94,38],[110,10,94,39],[111,6,95,4],[112,4,96,2],[112,5,96,3],[113,4,98,2],[113,24,99,4],[113,28,99,4,"_reactJsxDevRuntime"],[113,47,99,4],[113,48,99,4,"jsxDEV"],[113,54,99,4],[113,56,99,5,"AuthContext"],[113,67,99,16],[113,68,99,17,"Provider"],[113,76,99,25],[114,6,99,26,"value"],[114,11,99,31],[114,13,99,33],[115,8,99,35,"user"],[115,12,99,39],[116,8,99,41,"token"],[116,13,99,46],[117,8,99,48,"login"],[117,13,99,53],[118,8,99,55,"register"],[118,16,99,63],[119,8,99,65,"logout"],[119,14,99,71],[120,8,99,73,"updateUser"],[120,18,99,83],[121,8,99,85,"loading"],[122,6,99,93],[122,7,99,95],[123,6,99,95,"children"],[123,14,99,95],[123,16,100,7,"children"],[124,4,100,15],[125,6,100,15,"fileName"],[125,14,100,15],[125,16,100,15,"_jsxFileName"],[125,28,100,15],[126,6,100,15,"lineNumber"],[126,16,100,15],[127,6,100,15,"columnNumber"],[127,18,100,15],[128,4,100,15],[128,11,101,26],[128,12,101,27],[129,2,103,0],[129,3,103,1],[130,2,103,2,"_s"],[130,4,103,2],[130,5,28,13,"AuthProvider"],[130,17,28,66],[131,2,28,66,"_c"],[131,4,28,66],[131,7,28,13,"AuthProvider"],[131,19,28,66],[132,2,105,7],[132,8,105,13,"useAuth"],[132,15,105,20],[132,18,105,23,"useAuth"],[132,19,105,23],[132,24,105,29],[133,4,105,29,"_s2"],[133,7,105,29],[134,4,106,2],[134,10,106,8,"context"],[134,17,106,15],[134,20,106,18],[134,24,106,18,"useContext"],[134,30,106,28],[134,31,106,28,"useContext"],[134,41,106,28],[134,43,106,29,"AuthContext"],[134,54,106,40],[134,55,106,41],[135,4,107,2],[135,8,107,6],[135,9,107,7,"context"],[135,16,107,14],[135,18,107,16],[136,6,108,4],[136,12,108,10],[136,16,108,14,"Error"],[136,21,108,19],[136,22,108,20],[136,64,108,62],[136,65,108,63],[137,4,109,2],[138,4,110,2],[138,11,110,9,"context"],[138,18,110,16],[139,2,111,0],[139,3,111,1],[140,2,111,2,"_s2"],[140,5,111,2],[140,6,105,13,"useAuth"],[140,13,105,20],[141,2,105,20],[141,6,105,20,"_c"],[141,8,105,20],[142,2,105,20,"$RefreshReg$"],[142,14,105,20],[142,15,105,20,"_c"],[142,17,105,20],[143,0,105,20],[143,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;oBEE;GFgB;gBGE;GHa;mBIE;GJc;iBKE;GLI;qBME;GNI;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}