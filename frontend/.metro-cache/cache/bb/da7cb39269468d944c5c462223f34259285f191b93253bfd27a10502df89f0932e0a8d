{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n            headers: {\n              Authorization: `Bearer ${storedToken}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: userData\n        } = response.data;\n        setToken(newToken);\n        setUser(userData);\n        await AsyncStorage.default.setItem('token', newToken);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: userData\n        } = response.data;\n        setToken(newToken);\n        setUser(userData);\n        await AsyncStorage.default.setItem('token', newToken);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      setUser(null);\n      setToken(null);\n      await AsyncStorage.default.removeItem('token');\n    };\n    const updateUser = userData => {\n      if (user) {\n        setUser({\n          ...user,\n          ...userData\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        updateUser,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":133,"map":[[13,2,28,0,"Object"],[13,8,28,0],[13,9,28,0,"defineProperty"],[13,23,28,0],[13,24,28,0,"exports"],[13,31,28,0],[14,4,28,0,"enumerable"],[14,14,28,0],[15,4,28,0,"get"],[15,7,28,0],[15,18,28,0,"get"],[15,19,28,0],[16,6,28,0],[16,13,28,0,"AuthProvider"],[16,25,28,0],[17,4,28,0],[18,2,28,0],[19,2,105,0,"Object"],[19,8,105,0],[19,9,105,0,"defineProperty"],[19,23,105,0],[19,24,105,0,"exports"],[19,31,105,0],[20,4,105,0,"enumerable"],[20,14,105,0],[21,4,105,0,"get"],[21,7,105,0],[21,18,105,0,"get"],[21,19,105,0],[22,6,105,0],[22,13,105,0,"useAuth"],[22,20,105,0],[23,4,105,0],[24,2,105,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"API_URL"],[31,15,5,13],[31,18,5,16,"process"],[31,25,5,23],[31,26,5,24,"env"],[31,29,5,27],[31,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[31,53,5,51],[32,2,26,0],[32,8,26,6,"AuthContext"],[32,19,26,17],[32,35,26,20],[32,39,26,20,"createContext"],[32,45,26,33],[32,46,26,33,"createContext"],[32,59,26,33],[32,61,26,63,"undefined"],[32,70,26,72],[32,71,26,73],[33,2,28,7],[33,8,28,13,"AuthProvider"],[33,20,28,66],[33,23,28,69,"AuthProvider"],[33,24,28,70],[34,4,28,72,"children"],[35,2,28,81],[35,3,28,82],[35,8,28,87],[36,4,29,2],[36,10,29,8],[36,11,29,9,"user"],[36,15,29,13],[36,17,29,15,"setUser"],[36,24,29,22],[36,25,29,23],[36,28,29,26],[36,32,29,26,"useState"],[36,38,29,34],[36,39,29,34,"useState"],[36,47,29,34],[36,49,29,48],[36,53,29,52],[36,54,29,53],[37,4,30,2],[37,10,30,8],[37,11,30,9,"token"],[37,16,30,14],[37,18,30,16,"setToken"],[37,26,30,24],[37,27,30,25],[37,30,30,28],[37,34,30,28,"useState"],[37,40,30,36],[37,41,30,36,"useState"],[37,49,30,36],[37,51,30,52],[37,55,30,56],[37,56,30,57],[38,4,31,2],[38,10,31,8],[38,11,31,9,"loading"],[38,18,31,16],[38,20,31,18,"setLoading"],[38,30,31,28],[38,31,31,29],[38,34,31,32],[38,38,31,32,"useState"],[38,44,31,40],[38,45,31,40,"useState"],[38,53,31,40],[38,55,31,41],[38,59,31,45],[38,60,31,46],[39,4,33,2],[39,8,33,2,"useEffect"],[39,14,33,11],[39,15,33,11,"useEffect"],[39,24,33,11],[39,26,33,12],[39,32,33,18],[40,6,34,4,"checkAuth"],[40,15,34,13],[40,16,34,14],[40,17,34,15],[41,4,35,2],[41,5,35,3],[41,7,35,5],[41,9,35,7],[41,10,35,8],[42,4,37,2],[42,10,37,8,"checkAuth"],[42,19,37,17],[42,22,37,20],[42,28,37,20,"checkAuth"],[42,29,37,20],[42,34,37,32],[43,6,38,4],[43,10,38,8],[44,8,39,6],[44,14,39,12,"storedToken"],[44,25,39,23],[44,28,39,26],[44,34,39,32,"AsyncStorage"],[44,46,39,44],[44,47,39,44,"default"],[44,54,39,44],[44,55,39,45,"getItem"],[44,62,39,52],[44,63,39,53],[44,70,39,60],[44,71,39,61],[45,8,40,6],[45,12,40,10,"storedToken"],[45,23,40,21],[45,25,40,23],[46,10,41,8,"setToken"],[46,18,41,16],[46,19,41,17,"storedToken"],[46,30,41,28],[46,31,41,29],[47,10,42,8],[47,16,42,14,"response"],[47,24,42,22],[47,27,42,25],[47,33,42,31,"axios"],[47,38,42,36],[47,39,42,36,"default"],[47,46,42,36],[47,47,42,37,"get"],[47,50,42,40],[47,51,42,41],[47,54,42,44,"API_URL"],[47,61,42,51],[47,75,42,65],[47,77,42,67],[48,12,43,10,"headers"],[48,19,43,17],[48,21,43,19],[49,14,43,21,"Authorization"],[49,27,43,34],[49,29,43,36],[49,39,43,46,"storedToken"],[49,50,43,57],[50,12,43,60],[51,10,44,8],[51,11,44,9],[51,12,44,10],[52,10,45,8,"setUser"],[52,17,45,15],[52,18,45,16,"response"],[52,26,45,24],[52,27,45,25,"data"],[52,31,45,29],[52,32,45,30],[53,8,46,6],[54,6,47,4],[54,7,47,5],[54,8,47,6],[54,15,47,13,"error"],[54,20,47,18],[54,22,47,20],[55,8,48,6,"console"],[55,15,48,13],[55,16,48,14,"error"],[55,21,48,19],[55,22,48,20],[55,42,48,40],[55,44,48,42,"error"],[55,49,48,47],[55,50,48,48],[56,8,49,6],[56,14,49,12,"AsyncStorage"],[56,26,49,24],[56,27,49,24,"default"],[56,34,49,24],[56,35,49,25,"removeItem"],[56,45,49,35],[56,46,49,36],[56,53,49,43],[56,54,49,44],[57,6,50,4],[57,7,50,5],[57,16,50,14],[58,8,51,6,"setLoading"],[58,18,51,16],[58,19,51,17],[58,24,51,22],[58,25,51,23],[59,6,52,4],[60,4,53,2],[60,5,53,3],[61,4,55,2],[61,10,55,8,"login"],[61,15,55,13],[61,18,55,16],[61,24,55,16,"login"],[61,25,55,23,"email"],[61,30,55,36],[61,32,55,38,"password"],[61,40,55,54],[61,45,55,59],[62,6,56,4],[62,10,56,8],[63,8,57,6],[63,14,57,12,"response"],[63,22,57,20],[63,25,57,23],[63,31,57,29,"axios"],[63,36,57,34],[63,37,57,34,"default"],[63,44,57,34],[63,45,57,35,"post"],[63,49,57,39],[63,50,57,40],[63,53,57,43,"API_URL"],[63,60,57,50],[63,77,57,67],[63,79,57,69],[64,10,58,8,"email"],[64,15,58,13],[65,10,59,8,"password"],[66,8,60,6],[66,9,60,7],[66,10,60,8],[67,8,61,6],[67,14,61,12],[68,10,61,14,"token"],[68,15,61,19],[68,17,61,21,"newToken"],[68,25,61,29],[69,10,61,31,"user"],[69,14,61,35],[69,16,61,37,"userData"],[70,8,61,46],[70,9,61,47],[70,12,61,50,"response"],[70,20,61,58],[70,21,61,59,"data"],[70,25,61,63],[71,8,62,6,"setToken"],[71,16,62,14],[71,17,62,15,"newToken"],[71,25,62,23],[71,26,62,24],[72,8,63,6,"setUser"],[72,15,63,13],[72,16,63,14,"userData"],[72,24,63,22],[72,25,63,23],[73,8,64,6],[73,14,64,12,"AsyncStorage"],[73,26,64,24],[73,27,64,24,"default"],[73,34,64,24],[73,35,64,25,"setItem"],[73,42,64,32],[73,43,64,33],[73,50,64,40],[73,52,64,42,"newToken"],[73,60,64,50],[73,61,64,51],[74,6,65,4],[74,7,65,5],[74,8,65,6],[74,15,65,13,"error"],[74,20,65,23],[74,22,65,25],[75,8,66,6],[75,14,66,12],[75,18,66,16,"Error"],[75,23,66,21],[75,24,66,22,"error"],[75,29,66,27],[75,30,66,28,"response"],[75,38,66,36],[75,40,66,38,"data"],[75,44,66,42],[75,46,66,44,"detail"],[75,52,66,50],[75,56,66,54],[75,70,66,68],[75,71,66,69],[76,6,67,4],[77,4,68,2],[77,5,68,3],[78,4,70,2],[78,10,70,8,"register"],[78,18,70,16],[78,21,70,19],[78,27,70,19,"register"],[78,28,70,26,"username"],[78,36,70,42],[78,38,70,44,"email"],[78,43,70,57],[78,45,70,59,"password"],[78,53,70,75],[78,58,70,80],[79,6,71,4],[79,10,71,8],[80,8,72,6],[80,14,72,12,"response"],[80,22,72,20],[80,25,72,23],[80,31,72,29,"axios"],[80,36,72,34],[80,37,72,34,"default"],[80,44,72,34],[80,45,72,35,"post"],[80,49,72,39],[80,50,72,40],[80,53,72,43,"API_URL"],[80,60,72,50],[80,80,72,70],[80,82,72,72],[81,10,73,8,"username"],[81,18,73,16],[82,10,74,8,"email"],[82,15,74,13],[83,10,75,8,"password"],[84,8,76,6],[84,9,76,7],[84,10,76,8],[85,8,77,6],[85,14,77,12],[86,10,77,14,"token"],[86,15,77,19],[86,17,77,21,"newToken"],[86,25,77,29],[87,10,77,31,"user"],[87,14,77,35],[87,16,77,37,"userData"],[88,8,77,46],[88,9,77,47],[88,12,77,50,"response"],[88,20,77,58],[88,21,77,59,"data"],[88,25,77,63],[89,8,78,6,"setToken"],[89,16,78,14],[89,17,78,15,"newToken"],[89,25,78,23],[89,26,78,24],[90,8,79,6,"setUser"],[90,15,79,13],[90,16,79,14,"userData"],[90,24,79,22],[90,25,79,23],[91,8,80,6],[91,14,80,12,"AsyncStorage"],[91,26,80,24],[91,27,80,24,"default"],[91,34,80,24],[91,35,80,25,"setItem"],[91,42,80,32],[91,43,80,33],[91,50,80,40],[91,52,80,42,"newToken"],[91,60,80,50],[91,61,80,51],[92,6,81,4],[92,7,81,5],[92,8,81,6],[92,15,81,13,"error"],[92,20,81,23],[92,22,81,25],[93,8,82,6],[93,14,82,12],[93,18,82,16,"Error"],[93,23,82,21],[93,24,82,22,"error"],[93,29,82,27],[93,30,82,28,"response"],[93,38,82,36],[93,40,82,38,"data"],[93,44,82,42],[93,46,82,44,"detail"],[93,52,82,50],[93,56,82,54],[93,77,82,75],[93,78,82,76],[94,6,83,4],[95,4,84,2],[95,5,84,3],[96,4,86,2],[96,10,86,8,"logout"],[96,16,86,14],[96,19,86,17],[96,25,86,17,"logout"],[96,26,86,17],[96,31,86,29],[97,6,87,4,"setUser"],[97,13,87,11],[97,14,87,12],[97,18,87,16],[97,19,87,17],[98,6,88,4,"setToken"],[98,14,88,12],[98,15,88,13],[98,19,88,17],[98,20,88,18],[99,6,89,4],[99,12,89,10,"AsyncStorage"],[99,24,89,22],[99,25,89,22,"default"],[99,32,89,22],[99,33,89,23,"removeItem"],[99,43,89,33],[99,44,89,34],[99,51,89,41],[99,52,89,42],[100,4,90,2],[100,5,90,3],[101,4,92,2],[101,10,92,8,"updateUser"],[101,20,92,18],[101,23,92,22,"userData"],[101,31,92,45],[101,35,92,50],[102,6,93,4],[102,10,93,8,"user"],[102,14,93,12],[102,16,93,14],[103,8,94,6,"setUser"],[103,15,94,13],[103,16,94,14],[104,10,94,16],[104,13,94,19,"user"],[104,17,94,23],[105,10,94,25],[105,13,94,28,"userData"],[106,8,94,37],[106,9,94,38],[106,10,94,39],[107,6,95,4],[108,4,96,2],[108,5,96,3],[109,4,98,2],[109,24,99,4],[109,28,99,4,"_reactJsxDevRuntime"],[109,47,99,4],[109,48,99,4,"jsxDEV"],[109,54,99,4],[109,56,99,5,"AuthContext"],[109,67,99,16],[109,68,99,17,"Provider"],[109,76,99,25],[110,6,99,26,"value"],[110,11,99,31],[110,13,99,33],[111,8,99,35,"user"],[111,12,99,39],[112,8,99,41,"token"],[112,13,99,46],[113,8,99,48,"login"],[113,13,99,53],[114,8,99,55,"register"],[114,16,99,63],[115,8,99,65,"logout"],[115,14,99,71],[116,8,99,73,"updateUser"],[116,18,99,83],[117,8,99,85,"loading"],[118,6,99,93],[118,7,99,95],[119,6,99,95,"children"],[119,14,99,95],[119,16,100,7,"children"],[120,4,100,15],[121,6,100,15,"fileName"],[121,14,100,15],[121,16,100,15,"_jsxFileName"],[121,28,100,15],[122,6,100,15,"lineNumber"],[122,16,100,15],[123,6,100,15,"columnNumber"],[123,18,100,15],[124,4,100,15],[124,11,101,26],[124,12,101,27],[125,2,103,0],[125,3,103,1],[126,2,105,7],[126,8,105,13,"useAuth"],[126,15,105,20],[126,18,105,23,"useAuth"],[126,19,105,23],[126,24,105,29],[127,4,106,2],[127,10,106,8,"context"],[127,17,106,15],[127,20,106,18],[127,24,106,18,"useContext"],[127,30,106,28],[127,31,106,28,"useContext"],[127,41,106,28],[127,43,106,29,"AuthContext"],[127,54,106,40],[127,55,106,41],[128,4,107,2],[128,8,107,6],[128,9,107,7,"context"],[128,16,107,14],[128,18,107,16],[129,6,108,4],[129,12,108,10],[129,16,108,14,"Error"],[129,21,108,19],[129,22,108,20],[129,64,108,62],[129,65,108,63],[130,4,109,2],[131,4,110,2],[131,11,110,9,"context"],[131,18,110,16],[132,2,111,0],[132,3,111,1],[133,0,111,2],[133,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;oBEE;GFgB;gBGE;GHa;mBIE;GJc;iBKE;GLI;qBME;GNI;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}