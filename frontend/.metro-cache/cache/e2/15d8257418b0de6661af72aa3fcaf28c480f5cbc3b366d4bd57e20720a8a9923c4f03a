{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}},{"name":"expo-task-manager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":49,"index":92}}],"key":"bYMruywqSxptqIFJf3NLT25O6Io=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":69,"index":162}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":163},"end":{"line":4,"column":26,"index":189}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"GeofencingService\", {\n    enumerable: true,\n    get: function () {\n      return GeofencingService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _expoLocation = require(_dependencyMap[1], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  var _expoTaskManager = require(_dependencyMap[2], \"expo-task-manager\");\n  var TaskManager = _interopNamespace(_expoTaskManager);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  const GEOFENCE_TASK = 'BASKETBALL_COURT_GEOFENCE';\n  const LOCATION_TRACKING_TASK = 'BACKGROUND_LOCATION_TRACKING';\n  const GEOFENCE_RADIUS = 75; // meters - about 246 feet, good for basketball court detection\n  const CHECK_INTERVAL = 30000; // Check every 30 seconds\n\n  // Calculate distance between two coordinates using Haversine formula\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371e3; // Earth's radius in meters\n    const Ï†1 = lat1 * Math.PI / 180;\n    const Ï†2 = lat2 * Math.PI / 180;\n    const Î”Ï† = (lat2 - lat1) * Math.PI / 180;\n    const Î”Î» = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(Î”Ï† / 2) * Math.sin(Î”Ï† / 2) + Math.cos(Ï†1) * Math.cos(Ï†2) * Math.sin(Î”Î» / 2) * Math.sin(Î”Î» / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // Distance in meters\n  }\n\n  // Get saved geofence state\n  async function getGeofenceState() {\n    try {\n      const state = await AsyncStorage.default.getItem('geofence_state');\n      if (state) {\n        return JSON.parse(state);\n      }\n    } catch (error) {\n      console.error('Error reading geofence state:', error);\n    }\n    return {\n      currentCourtId: null,\n      lastCheckTime: 0\n    };\n  }\n\n  // Save geofence state\n  async function saveGeofenceState(state) {\n    try {\n      await AsyncStorage.default.setItem('geofence_state', JSON.stringify(state));\n    } catch (error) {\n      console.error('Error saving geofence state:', error);\n    }\n  }\n\n  // Check user into a court\n  async function checkInToCourt(courtId) {\n    try {\n      const token = await AsyncStorage.default.getItem('auth_token');\n      const apiUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n      if (!token) {\n        console.log('No auth token found, skipping auto check-in');\n        return false;\n      }\n      await axios.default.post(`${apiUrl}/api/courts/${courtId}/checkin`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(`âœ… Auto checked-in to court ${courtId}`);\n      return true;\n    } catch (error) {\n      console.error('Error auto checking-in:', error);\n      return false;\n    }\n  }\n\n  // Check user out of a court\n  async function checkOutOfCourt(courtId) {\n    try {\n      const token = await AsyncStorage.default.getItem('auth_token');\n      const apiUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n      if (!token) {\n        console.log('No auth token found, skipping auto check-out');\n        return false;\n      }\n      await axios.default.post(`${apiUrl}/api/courts/${courtId}/checkout`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(`âœ… Auto checked-out of court ${courtId}`);\n      return true;\n    } catch (error) {\n      console.error('Error auto checking-out:', error);\n      return false;\n    }\n  }\n\n  // Fetch all courts from backend\n  async function fetchCourts() {\n    try {\n      const apiUrl = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n      const response = await axios.default.get(`${apiUrl}/api/courts`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching courts:', error);\n      return [];\n    }\n  }\n\n  // Process location update and handle geofencing logic\n  async function processLocationUpdate(location) {\n    const {\n      latitude,\n      longitude\n    } = location.coords;\n    const state = await getGeofenceState();\n\n    // Throttle checks - don't check more than once every 30 seconds\n    const now = Date.now();\n    if (now - state.lastCheckTime < CHECK_INTERVAL) {\n      return;\n    }\n\n    // Fetch all courts\n    const courts = await fetchCourts();\n    if (courts.length === 0) {\n      return;\n    }\n\n    // Find nearest court within geofence radius\n    let nearestCourt = null;\n    let minDistance = Infinity;\n    for (const court of courts) {\n      const distance = calculateDistance(latitude, longitude, court.latitude, court.longitude);\n      if (distance < GEOFENCE_RADIUS && distance < minDistance) {\n        nearestCourt = court;\n        minDistance = distance;\n      }\n    }\n\n    // Handle geofence transitions\n    if (nearestCourt) {\n      // User is within a geofence\n      if (state.currentCourtId !== nearestCourt.id) {\n        // Entering a new court geofence\n        if (state.currentCourtId) {\n          // Check out of previous court first\n          await checkOutOfCourt(state.currentCourtId);\n        }\n\n        // Check into new court\n        const success = await checkInToCourt(nearestCourt.id);\n        if (success) {\n          await saveGeofenceState({\n            currentCourtId: nearestCourt.id,\n            lastCheckTime: now\n          });\n          console.log(`ðŸ€ Entered geofence of ${nearestCourt.name}`);\n        }\n      }\n    } else {\n      // User is not within any geofence\n      if (state.currentCourtId) {\n        // Exiting current court geofence\n        await checkOutOfCourt(state.currentCourtId);\n        await saveGeofenceState({\n          currentCourtId: null,\n          lastCheckTime: now\n        });\n        console.log('ðŸš¶ Exited all court geofences');\n      }\n    }\n\n    // Update last check time\n    state.lastCheckTime = now;\n    await saveGeofenceState(state);\n  }\n\n  // Define the background location tracking task\n  TaskManager.defineTask(LOCATION_TRACKING_TASK, async ({\n    data,\n    error\n  }) => {\n    if (error) {\n      console.error('Background location task error:', error);\n      return;\n    }\n    if (data) {\n      const {\n        locations\n      } = data;\n      if (locations && locations.length > 0) {\n        const location = locations[0];\n        await processLocationUpdate(location);\n      }\n    }\n  });\n  class GeofencingService {\n    // Start background location tracking with geofencing\n    static async startGeofencing() {\n      try {\n        // Check if task is already registered\n        const isRegistered = await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n        if (isRegistered) {\n          console.log('Geofencing already running');\n          return true;\n        }\n\n        // Request permissions\n        const {\n          status: foregroundStatus\n        } = await Location.requestForegroundPermissionsAsync();\n        if (foregroundStatus !== 'granted') {\n          console.error('Foreground location permission not granted');\n          return false;\n        }\n        const {\n          status: backgroundStatus\n        } = await Location.requestBackgroundPermissionsAsync();\n        if (backgroundStatus !== 'granted') {\n          console.error('Background location permission not granted');\n          return false;\n        }\n\n        // Start background location updates\n        await Location.startLocationUpdatesAsync(LOCATION_TRACKING_TASK, {\n          accuracy: Location.Accuracy.Balanced,\n          distanceInterval: 25,\n          // Update every 25 meters\n          timeInterval: 30000,\n          // Or every 30 seconds\n          foregroundService: {\n            notificationTitle: 'Ball House',\n            notificationBody: 'Tracking your location for automatic court check-ins',\n            notificationColor: '#FF6B35'\n          },\n          pausesUpdatesAutomatically: false,\n          showsBackgroundLocationIndicator: true\n        });\n        console.log('âœ… Geofencing started successfully');\n        return true;\n      } catch (error) {\n        console.error('Error starting geofencing:', error);\n        return false;\n      }\n    }\n\n    // Stop background location tracking\n    static async stopGeofencing() {\n      try {\n        const isRegistered = await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n        if (isRegistered) {\n          await Location.stopLocationUpdatesAsync(LOCATION_TRACKING_TASK);\n          console.log('âœ… Geofencing stopped');\n        }\n      } catch (error) {\n        console.error('Error stopping geofencing:', error);\n      }\n    }\n\n    // Check if geofencing is currently running\n    static async isGeofencingActive() {\n      try {\n        return await TaskManager.isTaskRegisteredAsync(LOCATION_TRACKING_TASK);\n      } catch (error) {\n        console.error('Error checking geofencing status:', error);\n        return false;\n      }\n    }\n\n    // Get current geofence state\n    static async getCurrentState() {\n      return await getGeofenceState();\n    }\n\n    // Clear geofence state (useful for logout)\n    static async clearState() {\n      await saveGeofenceState({\n        currentCourtId: null,\n        lastCheckTime: 0\n      });\n    }\n\n    // Check permissions status\n    static async checkPermissions() {\n      const foreground = await Location.getForegroundPermissionsAsync();\n      const background = await Location.getBackgroundPermissionsAsync();\n      return {\n        foreground: foreground.status === 'granted',\n        background: background.status === 'granted'\n      };\n    }\n  }\n});","lineCount":324,"map":[[27,2,217,0,"Object"],[27,8,217,0],[27,9,217,0,"defineProperty"],[27,23,217,0],[27,24,217,0,"exports"],[27,31,217,0],[28,4,217,0,"enumerable"],[28,14,217,0],[29,4,217,0,"get"],[29,7,217,0],[29,18,217,0,"get"],[29,19,217,0],[30,6,217,0],[30,13,217,0,"GeofencingService"],[30,30,217,0],[31,4,217,0],[32,2,217,0],[33,2,317,1],[33,6,317,1,"_expoVirtualEnv"],[33,21,317,1],[33,24,317,1,"require"],[33,31,317,1],[33,32,317,1,"_dependencyMap"],[33,46,317,1],[34,2,1,0],[34,6,1,0,"_expoLocation"],[34,19,1,0],[34,22,1,0,"require"],[34,29,1,0],[34,30,1,0,"_dependencyMap"],[34,44,1,0],[35,2,1,0],[35,6,1,0,"Location"],[35,14,1,0],[35,17,1,0,"_interopNamespace"],[35,34,1,0],[35,35,1,0,"_expoLocation"],[35,48,1,0],[36,2,2,0],[36,6,2,0,"_expoTaskManager"],[36,22,2,0],[36,25,2,0,"require"],[36,32,2,0],[36,33,2,0,"_dependencyMap"],[36,47,2,0],[37,2,2,0],[37,6,2,0,"TaskManager"],[37,17,2,0],[37,20,2,0,"_interopNamespace"],[37,37,2,0],[37,38,2,0,"_expoTaskManager"],[37,54,2,0],[38,2,3,0],[38,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[38,42,3,0],[38,45,3,0,"require"],[38,52,3,0],[38,53,3,0,"_dependencyMap"],[38,67,3,0],[39,2,3,0],[39,6,3,0,"AsyncStorage"],[39,18,3,0],[39,21,3,0,"_interopDefault"],[39,36,3,0],[39,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[39,73,3,0],[40,2,4,0],[40,6,4,0,"_axios"],[40,12,4,0],[40,15,4,0,"require"],[40,22,4,0],[40,23,4,0,"_dependencyMap"],[40,37,4,0],[41,2,4,0],[41,6,4,0,"axios"],[41,11,4,0],[41,14,4,0,"_interopDefault"],[41,29,4,0],[41,30,4,0,"_axios"],[41,36,4,0],[42,2,6,0],[42,8,6,6,"GEOFENCE_TASK"],[42,21,6,19],[42,24,6,22],[42,51,6,49],[43,2,7,0],[43,8,7,6,"LOCATION_TRACKING_TASK"],[43,30,7,28],[43,33,7,31],[43,63,7,61],[44,2,8,0],[44,8,8,6,"GEOFENCE_RADIUS"],[44,23,8,21],[44,26,8,24],[44,28,8,26],[44,29,8,27],[44,30,8,28],[45,2,9,0],[45,8,9,6,"CHECK_INTERVAL"],[45,22,9,20],[45,25,9,23],[45,30,9,28],[45,31,9,29],[45,32,9,30],[47,2,23,0],[48,2,24,0],[48,11,24,9,"calculateDistance"],[48,28,24,26,"calculateDistance"],[48,29,25,2,"lat1"],[48,33,25,14],[48,35,26,2,"lon1"],[48,39,26,14],[48,41,27,2,"lat2"],[48,45,27,14],[48,47,28,2,"lon2"],[48,51,28,14],[48,53,29,10],[49,4,30,2],[49,10,30,8,"R"],[49,11,30,9],[49,14,30,12],[49,20,30,18],[49,21,30,19],[49,22,30,20],[50,4,31,2],[50,10,31,8,"Ï†1"],[50,12,31,10],[50,15,31,14,"lat1"],[50,19,31,18],[50,22,31,21,"Math"],[50,26,31,25],[50,27,31,26,"PI"],[50,29,31,28],[50,32,31,32],[50,35,31,35],[51,4,32,2],[51,10,32,8,"Ï†2"],[51,12,32,10],[51,15,32,14,"lat2"],[51,19,32,18],[51,22,32,21,"Math"],[51,26,32,25],[51,27,32,26,"PI"],[51,29,32,28],[51,32,32,32],[51,35,32,35],[52,4,33,2],[52,10,33,8,"Î”Ï†"],[52,12,33,10],[52,15,33,14],[52,16,33,15,"lat2"],[52,20,33,19],[52,23,33,22,"lat1"],[52,27,33,26],[52,31,33,30,"Math"],[52,35,33,34],[52,36,33,35,"PI"],[52,38,33,37],[52,41,33,41],[52,44,33,44],[53,4,34,2],[53,10,34,8,"Î”Î»"],[53,12,34,10],[53,15,34,14],[53,16,34,15,"lon2"],[53,20,34,19],[53,23,34,22,"lon1"],[53,27,34,26],[53,31,34,30,"Math"],[53,35,34,34],[53,36,34,35,"PI"],[53,38,34,37],[53,41,34,41],[53,44,34,44],[54,4,36,2],[54,10,36,8,"a"],[54,11,36,9],[54,14,37,4,"Math"],[54,18,37,8],[54,19,37,9,"sin"],[54,22,37,12],[54,23,37,13,"Î”Ï†"],[54,25,37,15],[54,28,37,18],[54,29,37,19],[54,30,37,20],[54,33,37,23,"Math"],[54,37,37,27],[54,38,37,28,"sin"],[54,41,37,31],[54,42,37,32,"Î”Ï†"],[54,44,37,34],[54,47,37,37],[54,48,37,38],[54,49,37,39],[54,52,38,4,"Math"],[54,56,38,8],[54,57,38,9,"cos"],[54,60,38,12],[54,61,38,13,"Ï†1"],[54,63,38,15],[54,64,38,16],[54,67,38,19,"Math"],[54,71,38,23],[54,72,38,24,"cos"],[54,75,38,27],[54,76,38,28,"Ï†2"],[54,78,38,30],[54,79,38,31],[54,82,38,34,"Math"],[54,86,38,38],[54,87,38,39,"sin"],[54,90,38,42],[54,91,38,43,"Î”Î»"],[54,93,38,45],[54,96,38,48],[54,97,38,49],[54,98,38,50],[54,101,38,53,"Math"],[54,105,38,57],[54,106,38,58,"sin"],[54,109,38,61],[54,110,38,62,"Î”Î»"],[54,112,38,64],[54,115,38,67],[54,116,38,68],[54,117,38,69],[55,4,39,2],[55,10,39,8,"c"],[55,11,39,9],[55,14,39,12],[55,15,39,13],[55,18,39,16,"Math"],[55,22,39,20],[55,23,39,21,"atan2"],[55,28,39,26],[55,29,39,27,"Math"],[55,33,39,31],[55,34,39,32,"sqrt"],[55,38,39,36],[55,39,39,37,"a"],[55,40,39,38],[55,41,39,39],[55,43,39,41,"Math"],[55,47,39,45],[55,48,39,46,"sqrt"],[55,52,39,50],[55,53,39,51],[55,54,39,52],[55,57,39,55,"a"],[55,58,39,56],[55,59,39,57],[55,60,39,58],[56,4,41,2],[56,11,41,9,"R"],[56,12,41,10],[56,15,41,13,"c"],[56,16,41,14],[56,17,41,15],[56,18,41,16],[57,2,42,0],[59,2,44,0],[60,2,45,0],[60,17,45,15,"getGeofenceState"],[60,33,45,31,"getGeofenceState"],[60,34,45,31],[60,36,45,58],[61,4,46,2],[61,8,46,6],[62,6,47,4],[62,12,47,10,"state"],[62,17,47,15],[62,20,47,18],[62,26,47,24,"AsyncStorage"],[62,38,47,36],[62,39,47,36,"default"],[62,46,47,36],[62,47,47,37,"getItem"],[62,54,47,44],[62,55,47,45],[62,71,47,61],[62,72,47,62],[63,6,48,4],[63,10,48,8,"state"],[63,15,48,13],[63,17,48,15],[64,8,49,6],[64,15,49,13,"JSON"],[64,19,49,17],[64,20,49,18,"parse"],[64,25,49,23],[64,26,49,24,"state"],[64,31,49,29],[64,32,49,30],[65,6,50,4],[66,4,51,2],[66,5,51,3],[66,6,51,4],[66,13,51,11,"error"],[66,18,51,16],[66,20,51,18],[67,6,52,4,"console"],[67,13,52,11],[67,14,52,12,"error"],[67,19,52,17],[67,20,52,18],[67,51,52,49],[67,53,52,51,"error"],[67,58,52,56],[67,59,52,57],[68,4,53,2],[69,4,54,2],[69,11,54,9],[70,6,54,11,"currentCourtId"],[70,20,54,25],[70,22,54,27],[70,26,54,31],[71,6,54,33,"lastCheckTime"],[71,19,54,46],[71,21,54,48],[72,4,54,50],[72,5,54,51],[73,2,55,0],[75,2,57,0],[76,2,58,0],[76,17,58,15,"saveGeofenceState"],[76,34,58,32,"saveGeofenceState"],[76,35,58,33,"state"],[76,40,58,53],[76,42,58,70],[77,4,59,2],[77,8,59,6],[78,6,60,4],[78,12,60,10,"AsyncStorage"],[78,24,60,22],[78,25,60,22,"default"],[78,32,60,22],[78,33,60,23,"setItem"],[78,40,60,30],[78,41,60,31],[78,57,60,47],[78,59,60,49,"JSON"],[78,63,60,53],[78,64,60,54,"stringify"],[78,73,60,63],[78,74,60,64,"state"],[78,79,60,69],[78,80,60,70],[78,81,60,71],[79,4,61,2],[79,5,61,3],[79,6,61,4],[79,13,61,11,"error"],[79,18,61,16],[79,20,61,18],[80,6,62,4,"console"],[80,13,62,11],[80,14,62,12,"error"],[80,19,62,17],[80,20,62,18],[80,50,62,48],[80,52,62,50,"error"],[80,57,62,55],[80,58,62,56],[81,4,63,2],[82,2,64,0],[84,2,66,0],[85,2,67,0],[85,17,67,15,"checkInToCourt"],[85,31,67,29,"checkInToCourt"],[85,32,67,30,"courtId"],[85,39,67,45],[85,41,67,65],[86,4,68,2],[86,8,68,6],[87,6,69,4],[87,12,69,10,"token"],[87,17,69,15],[87,20,69,18],[87,26,69,24,"AsyncStorage"],[87,38,69,36],[87,39,69,36,"default"],[87,46,69,36],[87,47,69,37,"getItem"],[87,54,69,44],[87,55,69,45],[87,67,69,57],[87,68,69,58],[88,6,70,4],[88,12,70,10,"apiUrl"],[88,18,70,16],[88,21,70,16,"_expoVirtualEnv"],[88,36,70,16],[88,37,70,16,"env"],[88,40,70,16],[88,41,70,16,"EXPO_PUBLIC_BACKEND_URL"],[88,64,70,54],[89,6,72,4],[89,10,72,8],[89,11,72,9,"token"],[89,16,72,14],[89,18,72,16],[90,8,73,6,"console"],[90,15,73,13],[90,16,73,14,"log"],[90,19,73,17],[90,20,73,18],[90,65,73,63],[90,66,73,64],[91,8,74,6],[91,15,74,13],[91,20,74,18],[92,6,75,4],[93,6,77,4],[93,12,77,10,"axios"],[93,17,77,15],[93,18,77,15,"default"],[93,25,77,15],[93,26,77,16,"post"],[93,30,77,20],[93,31,78,6],[93,34,78,9,"apiUrl"],[93,40,78,15],[93,55,78,30,"courtId"],[93,62,78,37],[93,72,78,47],[93,74,79,6],[93,75,79,7],[93,76,79,8],[93,78,80,6],[94,8,80,8,"headers"],[94,15,80,15],[94,17,80,17],[95,10,80,19,"Authorization"],[95,23,80,32],[95,25,80,34],[95,35,80,44,"token"],[95,40,80,49],[96,8,80,52],[97,6,80,54],[97,7,81,4],[97,8,81,5],[98,6,83,4,"console"],[98,13,83,11],[98,14,83,12,"log"],[98,17,83,15],[98,18,83,16],[98,48,83,46,"courtId"],[98,55,83,53],[98,57,83,55],[98,58,83,56],[99,6,84,4],[99,13,84,11],[99,17,84,15],[100,4,85,2],[100,5,85,3],[100,6,85,4],[100,13,85,11,"error"],[100,18,85,16],[100,20,85,18],[101,6,86,4,"console"],[101,13,86,11],[101,14,86,12,"error"],[101,19,86,17],[101,20,86,18],[101,45,86,43],[101,47,86,45,"error"],[101,52,86,50],[101,53,86,51],[102,6,87,4],[102,13,87,11],[102,18,87,16],[103,4,88,2],[104,2,89,0],[106,2,91,0],[107,2,92,0],[107,17,92,15,"checkOutOfCourt"],[107,32,92,30,"checkOutOfCourt"],[107,33,92,31,"courtId"],[107,40,92,46],[107,42,92,66],[108,4,93,2],[108,8,93,6],[109,6,94,4],[109,12,94,10,"token"],[109,17,94,15],[109,20,94,18],[109,26,94,24,"AsyncStorage"],[109,38,94,36],[109,39,94,36,"default"],[109,46,94,36],[109,47,94,37,"getItem"],[109,54,94,44],[109,55,94,45],[109,67,94,57],[109,68,94,58],[110,6,95,4],[110,12,95,10,"apiUrl"],[110,18,95,16],[110,21,95,16,"_expoVirtualEnv"],[110,36,95,16],[110,37,95,16,"env"],[110,40,95,16],[110,41,95,16,"EXPO_PUBLIC_BACKEND_URL"],[110,64,95,54],[111,6,97,4],[111,10,97,8],[111,11,97,9,"token"],[111,16,97,14],[111,18,97,16],[112,8,98,6,"console"],[112,15,98,13],[112,16,98,14,"log"],[112,19,98,17],[112,20,98,18],[112,66,98,64],[112,67,98,65],[113,8,99,6],[113,15,99,13],[113,20,99,18],[114,6,100,4],[115,6,102,4],[115,12,102,10,"axios"],[115,17,102,15],[115,18,102,15,"default"],[115,25,102,15],[115,26,102,16,"post"],[115,30,102,20],[115,31,103,6],[115,34,103,9,"apiUrl"],[115,40,103,15],[115,55,103,30,"courtId"],[115,62,103,37],[115,73,103,48],[115,75,104,6],[115,76,104,7],[115,77,104,8],[115,79,105,6],[116,8,105,8,"headers"],[116,15,105,15],[116,17,105,17],[117,10,105,19,"Authorization"],[117,23,105,32],[117,25,105,34],[117,35,105,44,"token"],[117,40,105,49],[118,8,105,52],[119,6,105,54],[119,7,106,4],[119,8,106,5],[120,6,108,4,"console"],[120,13,108,11],[120,14,108,12,"log"],[120,17,108,15],[120,18,108,16],[120,49,108,47,"courtId"],[120,56,108,54],[120,58,108,56],[120,59,108,57],[121,6,109,4],[121,13,109,11],[121,17,109,15],[122,4,110,2],[122,5,110,3],[122,6,110,4],[122,13,110,11,"error"],[122,18,110,16],[122,20,110,18],[123,6,111,4,"console"],[123,13,111,11],[123,14,111,12,"error"],[123,19,111,17],[123,20,111,18],[123,46,111,44],[123,48,111,46,"error"],[123,53,111,51],[123,54,111,52],[124,6,112,4],[124,13,112,11],[124,18,112,16],[125,4,113,2],[126,2,114,0],[128,2,116,0],[129,2,117,0],[129,17,117,15,"fetchCourts"],[129,28,117,26,"fetchCourts"],[129,29,117,26],[129,31,117,47],[130,4,118,2],[130,8,118,6],[131,6,119,4],[131,12,119,10,"apiUrl"],[131,18,119,16],[131,21,119,16,"_expoVirtualEnv"],[131,36,119,16],[131,37,119,16,"env"],[131,40,119,16],[131,41,119,16,"EXPO_PUBLIC_BACKEND_URL"],[131,64,119,54],[132,6,120,4],[132,12,120,10,"response"],[132,20,120,18],[132,23,120,21],[132,29,120,27,"axios"],[132,34,120,32],[132,35,120,32,"default"],[132,42,120,32],[132,43,120,33,"get"],[132,46,120,36],[132,47,120,37],[132,50,120,40,"apiUrl"],[132,56,120,46],[132,69,120,59],[132,70,120,60],[133,6,121,4],[133,13,121,11,"response"],[133,21,121,19],[133,22,121,20,"data"],[133,26,121,24],[134,4,122,2],[134,5,122,3],[134,6,122,4],[134,13,122,11,"error"],[134,18,122,16],[134,20,122,18],[135,6,123,4,"console"],[135,13,123,11],[135,14,123,12,"error"],[135,19,123,17],[135,20,123,18],[135,44,123,42],[135,46,123,44,"error"],[135,51,123,49],[135,52,123,50],[136,6,124,4],[136,13,124,11],[136,15,124,13],[137,4,125,2],[138,2,126,0],[140,2,128,0],[141,2,129,0],[141,17,129,15,"processLocationUpdate"],[141,38,129,36,"processLocationUpdate"],[141,39,129,37,"location"],[141,47,129,70],[141,49,129,72],[142,4,130,2],[142,10,130,8],[143,6,130,10,"latitude"],[143,14,130,18],[144,6,130,20,"longitude"],[145,4,130,30],[145,5,130,31],[145,8,130,34,"location"],[145,16,130,42],[145,17,130,43,"coords"],[145,23,130,49],[146,4,131,2],[146,10,131,8,"state"],[146,15,131,13],[146,18,131,16],[146,24,131,22,"getGeofenceState"],[146,40,131,38],[146,41,131,39],[146,42,131,40],[148,4,133,2],[149,4,134,2],[149,10,134,8,"now"],[149,13,134,11],[149,16,134,14,"Date"],[149,20,134,18],[149,21,134,19,"now"],[149,24,134,22],[149,25,134,23],[149,26,134,24],[150,4,135,2],[150,8,135,6,"now"],[150,11,135,9],[150,14,135,12,"state"],[150,19,135,17],[150,20,135,18,"lastCheckTime"],[150,33,135,31],[150,36,135,34,"CHECK_INTERVAL"],[150,50,135,48],[150,52,135,50],[151,6,136,4],[152,4,137,2],[154,4,139,2],[155,4,140,2],[155,10,140,8,"courts"],[155,16,140,14],[155,19,140,17],[155,25,140,23,"fetchCourts"],[155,36,140,34],[155,37,140,35],[155,38,140,36],[156,4,141,2],[156,8,141,6,"courts"],[156,14,141,12],[156,15,141,13,"length"],[156,21,141,19],[156,26,141,24],[156,27,141,25],[156,29,141,27],[157,6,142,4],[158,4,143,2],[160,4,145,2],[161,4,146,2],[161,8,146,6,"nearestCourt"],[161,20,146,32],[161,23,146,35],[161,27,146,39],[162,4,147,2],[162,8,147,6,"minDistance"],[162,19,147,17],[162,22,147,20,"Infinity"],[162,30,147,28],[163,4,149,2],[163,9,149,7],[163,15,149,13,"court"],[163,20,149,18],[163,24,149,22,"courts"],[163,30,149,28],[163,32,149,30],[164,6,150,4],[164,12,150,10,"distance"],[164,20,150,18],[164,23,150,21,"calculateDistance"],[164,40,150,38],[164,41,151,6,"latitude"],[164,49,151,14],[164,51,152,6,"longitude"],[164,60,152,15],[164,62,153,6,"court"],[164,67,153,11],[164,68,153,12,"latitude"],[164,76,153,20],[164,78,154,6,"court"],[164,83,154,11],[164,84,154,12,"longitude"],[164,93,155,4],[164,94,155,5],[165,6,157,4],[165,10,157,8,"distance"],[165,18,157,16],[165,21,157,19,"GEOFENCE_RADIUS"],[165,36,157,34],[165,40,157,38,"distance"],[165,48,157,46],[165,51,157,49,"minDistance"],[165,62,157,60],[165,64,157,62],[166,8,158,6,"nearestCourt"],[166,20,158,18],[166,23,158,21,"court"],[166,28,158,26],[167,8,159,6,"minDistance"],[167,19,159,17],[167,22,159,20,"distance"],[167,30,159,28],[168,6,160,4],[169,4,161,2],[171,4,163,2],[172,4,164,2],[172,8,164,6,"nearestCourt"],[172,20,164,18],[172,22,164,20],[173,6,165,4],[174,6,166,4],[174,10,166,8,"state"],[174,15,166,13],[174,16,166,14,"currentCourtId"],[174,30,166,28],[174,35,166,33,"nearestCourt"],[174,47,166,45],[174,48,166,46,"id"],[174,50,166,48],[174,52,166,50],[175,8,167,6],[176,8,168,6],[176,12,168,10,"state"],[176,17,168,15],[176,18,168,16,"currentCourtId"],[176,32,168,30],[176,34,168,32],[177,10,169,8],[178,10,170,8],[178,16,170,14,"checkOutOfCourt"],[178,31,170,29],[178,32,170,30,"state"],[178,37,170,35],[178,38,170,36,"currentCourtId"],[178,52,170,50],[178,53,170,51],[179,8,171,6],[181,8,173,6],[182,8,174,6],[182,14,174,12,"success"],[182,21,174,19],[182,24,174,22],[182,30,174,28,"checkInToCourt"],[182,44,174,42],[182,45,174,43,"nearestCourt"],[182,57,174,55],[182,58,174,56,"id"],[182,60,174,58],[182,61,174,59],[183,8,175,6],[183,12,175,10,"success"],[183,19,175,17],[183,21,175,19],[184,10,176,8],[184,16,176,14,"saveGeofenceState"],[184,33,176,31],[184,34,176,32],[185,12,177,10,"currentCourtId"],[185,26,177,24],[185,28,177,26,"nearestCourt"],[185,40,177,38],[185,41,177,39,"id"],[185,43,177,41],[186,12,178,10,"lastCheckTime"],[186,25,178,23],[186,27,178,25,"now"],[187,10,179,8],[187,11,179,9],[187,12,179,10],[188,10,180,8,"console"],[188,17,180,15],[188,18,180,16,"log"],[188,21,180,19],[188,22,180,20],[188,48,180,46,"nearestCourt"],[188,60,180,58],[188,61,180,59,"name"],[188,65,180,63],[188,67,180,65],[188,68,180,66],[189,8,181,6],[190,6,182,4],[191,4,183,2],[191,5,183,3],[191,11,183,9],[192,6,184,4],[193,6,185,4],[193,10,185,8,"state"],[193,15,185,13],[193,16,185,14,"currentCourtId"],[193,30,185,28],[193,32,185,30],[194,8,186,6],[195,8,187,6],[195,14,187,12,"checkOutOfCourt"],[195,29,187,27],[195,30,187,28,"state"],[195,35,187,33],[195,36,187,34,"currentCourtId"],[195,50,187,48],[195,51,187,49],[196,8,188,6],[196,14,188,12,"saveGeofenceState"],[196,31,188,29],[196,32,188,30],[197,10,189,8,"currentCourtId"],[197,24,189,22],[197,26,189,24],[197,30,189,28],[198,10,190,8,"lastCheckTime"],[198,23,190,21],[198,25,190,23,"now"],[199,8,191,6],[199,9,191,7],[199,10,191,8],[200,8,192,6,"console"],[200,15,192,13],[200,16,192,14,"log"],[200,19,192,17],[200,20,192,18],[200,51,192,49],[200,52,192,50],[201,6,193,4],[202,4,194,2],[204,4,196,2],[205,4,197,2,"state"],[205,9,197,7],[205,10,197,8,"lastCheckTime"],[205,23,197,21],[205,26,197,24,"now"],[205,29,197,27],[206,4,198,2],[206,10,198,8,"saveGeofenceState"],[206,27,198,25],[206,28,198,26,"state"],[206,33,198,31],[206,34,198,32],[207,2,199,0],[209,2,201,0],[210,2,202,0,"TaskManager"],[210,13,202,11],[210,14,202,12,"defineTask"],[210,24,202,22],[210,25,202,23,"LOCATION_TRACKING_TASK"],[210,47,202,45],[210,49,202,47],[210,56,202,54],[211,4,202,56,"data"],[211,8,202,60],[212,4,202,62,"error"],[213,2,202,73],[213,3,202,74],[213,8,202,79],[214,4,203,2],[214,8,203,6,"error"],[214,13,203,11],[214,15,203,13],[215,6,204,4,"console"],[215,13,204,11],[215,14,204,12,"error"],[215,19,204,17],[215,20,204,18],[215,53,204,51],[215,55,204,53,"error"],[215,60,204,58],[215,61,204,59],[216,6,205,4],[217,4,206,2],[218,4,208,2],[218,8,208,6,"data"],[218,12,208,10],[218,14,208,12],[219,6,209,4],[219,12,209,10],[220,8,209,12,"locations"],[221,6,209,22],[221,7,209,23],[221,10,209,26,"data"],[221,14,209,30],[222,6,210,4],[222,10,210,8,"locations"],[222,19,210,17],[222,23,210,21,"locations"],[222,32,210,30],[222,33,210,31,"length"],[222,39,210,37],[222,42,210,40],[222,43,210,41],[222,45,210,43],[223,8,211,6],[223,14,211,12,"location"],[223,22,211,20],[223,25,211,23,"locations"],[223,34,211,32],[223,35,211,33],[223,36,211,34],[223,37,211,35],[224,8,212,6],[224,14,212,12,"processLocationUpdate"],[224,35,212,33],[224,36,212,34,"location"],[224,44,212,42],[224,45,212,43],[225,6,213,4],[226,4,214,2],[227,2,215,0],[227,3,215,1],[227,4,215,2],[228,2,217,7],[228,8,217,13,"GeofencingService"],[228,25,217,30],[228,26,217,31],[229,4,218,2],[230,4,219,2],[230,17,219,15,"startGeofencing"],[230,32,219,30,"startGeofencing"],[230,33,219,30],[230,35,219,51],[231,6,220,4],[231,10,220,8],[232,8,221,6],[233,8,222,6],[233,14,222,12,"isRegistered"],[233,26,222,24],[233,29,222,27],[233,35,222,33,"TaskManager"],[233,46,222,44],[233,47,222,45,"isTaskRegisteredAsync"],[233,68,222,66],[233,69,223,8,"LOCATION_TRACKING_TASK"],[233,91,224,6],[233,92,224,7],[234,8,226,6],[234,12,226,10,"isRegistered"],[234,24,226,22],[234,26,226,24],[235,10,227,8,"console"],[235,17,227,15],[235,18,227,16,"log"],[235,21,227,19],[235,22,227,20],[235,50,227,48],[235,51,227,49],[236,10,228,8],[236,17,228,15],[236,21,228,19],[237,8,229,6],[239,8,231,6],[240,8,232,6],[240,14,232,12],[241,10,232,14,"status"],[241,16,232,20],[241,18,232,22,"foregroundStatus"],[242,8,232,39],[242,9,232,40],[242,12,233,8],[242,18,233,14,"Location"],[242,26,233,22],[242,27,233,23,"requestForegroundPermissionsAsync"],[242,60,233,56],[242,61,233,57],[242,62,233,58],[243,8,234,6],[243,12,234,10,"foregroundStatus"],[243,28,234,26],[243,33,234,31],[243,42,234,40],[243,44,234,42],[244,10,235,8,"console"],[244,17,235,15],[244,18,235,16,"error"],[244,23,235,21],[244,24,235,22],[244,68,235,66],[244,69,235,67],[245,10,236,8],[245,17,236,15],[245,22,236,20],[246,8,237,6],[247,8,239,6],[247,14,239,12],[248,10,239,14,"status"],[248,16,239,20],[248,18,239,22,"backgroundStatus"],[249,8,239,39],[249,9,239,40],[249,12,240,8],[249,18,240,14,"Location"],[249,26,240,22],[249,27,240,23,"requestBackgroundPermissionsAsync"],[249,60,240,56],[249,61,240,57],[249,62,240,58],[250,8,241,6],[250,12,241,10,"backgroundStatus"],[250,28,241,26],[250,33,241,31],[250,42,241,40],[250,44,241,42],[251,10,242,8,"console"],[251,17,242,15],[251,18,242,16,"error"],[251,23,242,21],[251,24,242,22],[251,68,242,66],[251,69,242,67],[252,10,243,8],[252,17,243,15],[252,22,243,20],[253,8,244,6],[255,8,246,6],[256,8,247,6],[256,14,247,12,"Location"],[256,22,247,20],[256,23,247,21,"startLocationUpdatesAsync"],[256,48,247,46],[256,49,247,47,"LOCATION_TRACKING_TASK"],[256,71,247,69],[256,73,247,71],[257,10,248,8,"accuracy"],[257,18,248,16],[257,20,248,18,"Location"],[257,28,248,26],[257,29,248,27,"Accuracy"],[257,37,248,35],[257,38,248,36,"Balanced"],[257,46,248,44],[258,10,249,8,"distanceInterval"],[258,26,249,24],[258,28,249,26],[258,30,249,28],[259,10,249,30],[260,10,250,8,"timeInterval"],[260,22,250,20],[260,24,250,22],[260,29,250,27],[261,10,250,29],[262,10,251,8,"foregroundService"],[262,27,251,25],[262,29,251,27],[263,12,252,10,"notificationTitle"],[263,29,252,27],[263,31,252,29],[263,43,252,41],[264,12,253,10,"notificationBody"],[264,28,253,26],[264,30,253,28],[264,84,253,82],[265,12,254,10,"notificationColor"],[265,29,254,27],[265,31,254,29],[266,10,255,8],[266,11,255,9],[267,10,256,8,"pausesUpdatesAutomatically"],[267,36,256,34],[267,38,256,36],[267,43,256,41],[268,10,257,8,"showsBackgroundLocationIndicator"],[268,42,257,40],[268,44,257,42],[269,8,258,6],[269,9,258,7],[269,10,258,8],[270,8,260,6,"console"],[270,15,260,13],[270,16,260,14,"log"],[270,19,260,17],[270,20,260,18],[270,55,260,53],[270,56,260,54],[271,8,261,6],[271,15,261,13],[271,19,261,17],[272,6,262,4],[272,7,262,5],[272,8,262,6],[272,15,262,13,"error"],[272,20,262,18],[272,22,262,20],[273,8,263,6,"console"],[273,15,263,13],[273,16,263,14,"error"],[273,21,263,19],[273,22,263,20],[273,50,263,48],[273,52,263,50,"error"],[273,57,263,55],[273,58,263,56],[274,8,264,6],[274,15,264,13],[274,20,264,18],[275,6,265,4],[276,4,266,2],[278,4,268,2],[279,4,269,2],[279,17,269,15,"stopGeofencing"],[279,31,269,29,"stopGeofencing"],[279,32,269,29],[279,34,269,47],[280,6,270,4],[280,10,270,8],[281,8,271,6],[281,14,271,12,"isRegistered"],[281,26,271,24],[281,29,271,27],[281,35,271,33,"TaskManager"],[281,46,271,44],[281,47,271,45,"isTaskRegisteredAsync"],[281,68,271,66],[281,69,272,8,"LOCATION_TRACKING_TASK"],[281,91,273,6],[281,92,273,7],[282,8,275,6],[282,12,275,10,"isRegistered"],[282,24,275,22],[282,26,275,24],[283,10,276,8],[283,16,276,14,"Location"],[283,24,276,22],[283,25,276,23,"stopLocationUpdatesAsync"],[283,49,276,47],[283,50,276,48,"LOCATION_TRACKING_TASK"],[283,72,276,70],[283,73,276,71],[284,10,277,8,"console"],[284,17,277,15],[284,18,277,16,"log"],[284,21,277,19],[284,22,277,20],[284,44,277,42],[284,45,277,43],[285,8,278,6],[286,6,279,4],[286,7,279,5],[286,8,279,6],[286,15,279,13,"error"],[286,20,279,18],[286,22,279,20],[287,8,280,6,"console"],[287,15,280,13],[287,16,280,14,"error"],[287,21,280,19],[287,22,280,20],[287,50,280,48],[287,52,280,50,"error"],[287,57,280,55],[287,58,280,56],[288,6,281,4],[289,4,282,2],[291,4,284,2],[292,4,285,2],[292,17,285,15,"isGeofencingActive"],[292,35,285,33,"isGeofencingActive"],[292,36,285,33],[292,38,285,54],[293,6,286,4],[293,10,286,8],[294,8,287,6],[294,15,287,13],[294,21,287,19,"TaskManager"],[294,32,287,30],[294,33,287,31,"isTaskRegisteredAsync"],[294,54,287,52],[294,55,287,53,"LOCATION_TRACKING_TASK"],[294,77,287,75],[294,78,287,76],[295,6,288,4],[295,7,288,5],[295,8,288,6],[295,15,288,13,"error"],[295,20,288,18],[295,22,288,20],[296,8,289,6,"console"],[296,15,289,13],[296,16,289,14,"error"],[296,21,289,19],[296,22,289,20],[296,57,289,55],[296,59,289,57,"error"],[296,64,289,62],[296,65,289,63],[297,8,290,6],[297,15,290,13],[297,20,290,18],[298,6,291,4],[299,4,292,2],[301,4,294,2],[302,4,295,2],[302,17,295,15,"getCurrentState"],[302,32,295,30,"getCurrentState"],[302,33,295,30],[302,35,295,57],[303,6,296,4],[303,13,296,11],[303,19,296,17,"getGeofenceState"],[303,35,296,33],[303,36,296,34],[303,37,296,35],[304,4,297,2],[306,4,299,2],[307,4,300,2],[307,17,300,15,"clearState"],[307,27,300,25,"clearState"],[307,28,300,25],[307,30,300,43],[308,6,301,4],[308,12,301,10,"saveGeofenceState"],[308,29,301,27],[308,30,301,28],[309,8,301,30,"currentCourtId"],[309,22,301,44],[309,24,301,46],[309,28,301,50],[310,8,301,52,"lastCheckTime"],[310,21,301,65],[310,23,301,67],[311,6,301,69],[311,7,301,70],[311,8,301,71],[312,4,302,2],[314,4,304,2],[315,4,305,2],[315,17,305,15,"checkPermissions"],[315,33,305,31,"checkPermissions"],[315,34,305,31],[315,36,308,5],[316,6,309,4],[316,12,309,10,"foreground"],[316,22,309,20],[316,25,309,23],[316,31,309,29,"Location"],[316,39,309,37],[316,40,309,38,"getForegroundPermissionsAsync"],[316,69,309,67],[316,70,309,68],[316,71,309,69],[317,6,310,4],[317,12,310,10,"background"],[317,22,310,20],[317,25,310,23],[317,31,310,29,"Location"],[317,39,310,37],[317,40,310,38,"getBackgroundPermissionsAsync"],[317,69,310,67],[317,70,310,68],[317,71,310,69],[318,6,312,4],[318,13,312,11],[319,8,313,6,"foreground"],[319,18,313,16],[319,20,313,18,"foreground"],[319,30,313,28],[319,31,313,29,"status"],[319,37,313,35],[319,42,313,40],[319,51,313,49],[320,8,314,6,"background"],[320,18,314,16],[320,20,314,18,"background"],[320,30,314,28],[320,31,314,29,"status"],[320,37,314,35],[320,42,314,40],[321,6,315,4],[321,7,315,5],[322,4,316,2],[323,2,317,0],[324,0,317,1],[324,3]],"functionMap":{"names":["<global>","calculateDistance","getGeofenceState","saveGeofenceState","checkInToCourt","checkOutOfCourt","fetchCourts","processLocationUpdate","TaskManager.defineTask$argument_1","GeofencingService","startGeofencing","stopGeofencing","isGeofencingActive","getCurrentState","clearState","checkPermissions"],"mappings":"AAA;ACuB;CDkB;AEG;CFU;AGG;CHM;AIG;CJsB;AKG;CLsB;AMG;CNS;AOG;CPsE;+CQG;CRa;OSE;ECE;GD+C;EEG;GFa;EGG;GHO;EIG;GJE;EKG;GLE;EMG;GNW;CTC"},"hasCjsExports":false},"type":"js/module"}]}